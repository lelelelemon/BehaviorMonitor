/r/n                                            htmlparser�?完美的抽取網頁html純文本的方法                                window.onerror = ignoreError;        function ignoreError() {            return true;        }                                                                                                                                                                                                                                                                                                    �?&nbsp;�?                                                                                                    阅览�?                                                                                                    馆友                                                                                                    我的图书�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            htmlparser�?完美的抽取網頁html純文本的方法                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        收藏人：旭龙                                                                                                                                                                                                                                                                                                                                                                                                                                                isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    2011-05-11&nbsp;|&nbsp;阅：&nbsp;&nbsp;转：&nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;|&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;&nbsp;|&nbsp;&nbsp;分享&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    HTMLParser是一个很好的html解析工具，其中一个比较实用的功能就是抽取纯文本�?�最�?阔玩游戏准备实现网站内容的全文检索，�?要进行html纯文本的抽取，但是使用google来搜索利用htmlparser抽取纯文本，虽然查询到很多网页，但是基本实现方法都千篇一律，没有�?个比较完美的纯文本抽取解决办法�??如：htmlparser�?经典的抽取纯文本的方法就是利用TextExtractingVisitor实现，代码：                        public static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                                    但是大家可以使用我下面的html试一下，看最终的解析效果如何�?                        &lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;            �?终的结果输出为：                                    &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图                        中间不仅有很多空格和回车，�?�且对于&lt;script&gt;标签，也不能很好的进行解析，仅仅只是过滤掉了script标签，但是其中的内容仍然没有进行过滤。其他的利用NodeFilter,TagNameFilter等，通过遍历每个Node节点，然后利用toPlainTextString()方法来�?�个输出，效率低不说，�?�且�?终结果也和上面的结果类似，都不能完美抽出真正�?要的纯文本�??真正能够抽取纯文本的方法为：                                    &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;                        如果要�?�虑编码问题，请在输出时对sb.getStrings()进行编码转换，即：return new String(sb.getStrings().getBytes("ISO-8859-1"));为什么要转换成ISO-8859-1编码，是因为htmlparser在解析网页的时�?�，默认是以ISO-8859-1方式进行解析的，毕竟老外的作品嘛。�?�且StringBean我仔细找了一下，没有在其中发现有设置编码方式的地方，�?以只好获取结果后重新进行�?下转换（注：我用的是htmlparser1.6）�??但是，还有很多时候，我们只是解析html格式的字符串，�?�不是直接去解析网页地址，这种情况，直接使用StringBean就比较麻烦了。�?�经过我验证，感觉StringBean是抽取纯文本�?好的�?个方法�?�网上除了StringBean上面的这个demo代码外，就没有其他的使用了�?�无奈之下，我翻�?StringBean源码，看能否根据其内部实现原理，重新进行实现。意外发现，其代码中，处理字符串的部分，代码如下�?                        protected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }            注意上面加红色的部分，哈哈，功夫不负有心人， mParser.visitAllNodesWith (this); 这个this，可不正是StringBean本身嘛，仔细�?看，StringBean果然是继承自NodeVisitor方法，也就是说，可以直接使用visitAllNodesWith()方法，即使用访问者模式解析html了�?�最终从html字符串中抽取纯文本的�?完美方法为：                                    &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                        &nbsp;查看�?终输出结果：                        每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图            怎么样，效果是不是很好？对于�?要使用lecene进行全文�?索的部分，使用以上方法将html抽取成纯文本，然后压缩存储，不仅可以极大减少索引尺寸，�?�且搜索结果必然也更精准�?阔玩游戏的全文检索功能，文章抽取的部分，就是如此实现的�??&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        来自�?旭龙&nbsp;>&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                        isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                转藏到我的图书馆                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        献花(0)                                                                                                        +1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    分享到微�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            以文找文                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    类似文章                                                                                                                                                                                                                                                        更多                                                                                                                                                                                                                                                                                                                                                                                                                                                            用HtmlParser 写个�?单的 news爬虫AA                                                                                                                                                                                                                        HTMLParser使用详解�?1�?- 初始化Parser...                                                                                                                                                                                                                        利用HtmlParser进行网页信息提取                                                                                                                                                                                                                        Java资源�? 用HTMLParser从HTML中攫取你...                                                                                                                                                                                                                        HtmlParser初步研究(�?)--约翰克里斯朵�?....                                                                                                                                                                                                                        Java发�?�Http请求，解析html返回                                                                                                                                                                                                                        Google Groups: javakb�?个解析HTML的咚...                                                                                                                                                                                                                        java怎样读取html文件                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                热搜文章                                                                                                                                                                                                                                                                                                                                                                                                                                 半身不遂喝下�?,高度致残也能�?,穷人不用... 华尔街�?�大白鲨”浮出水�?  卷入史上�?�?... 穷二代的真实自白：我奋斗�?18年还是不�?... �?张图看一看华西村之A面B�? 古代人教你如何赴饭局 好书推荐：处世大智慧—�?�受用一生的22�?... 致敬20世纪10位大师：他们是文学书画的�?... 成长之路—�?�历任团中央第一书记卸任后的...                                                                                                                                                                                                                                                                                                                                                                                         猜你喜欢生活励志名言你将踏上�?段伟大的旅程怎么修改路由器密�?�?些日常用品的妙用在岁月长河中,我们�?路走�?,告别�?�?...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            发表评论�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     �?新文�?SpringMVC关于json、xml自动转换的原...Maven�?佳实践：版本管理Apache Jakarta Commons 工具集简�?Maven pom.xml 配置详解Maven构建应用程序常用配置 | �?单之�?常用Maven插件介绍 更多                                   热门文章                                                                        中国热菜大集（上册）                                                            按照3461学习法，�?96%的机会升入重�?...                                                            菲律宾媒体：中国可以成为南海的�?�上...                                                            贵州茅台酒全�?                                                            职场上最不该说的几句�?                                                            女人决定家族的和谐，影响家人的幸�?                                                            盘点世界�?伟大的科学家犯下的错�?                                                            10道家常砂锅菜谱做法，赶紧来学学吧!                                                            为何看不见�?�看不懂、看不起�?                                                            �?大波西瓜袭来，我惊呆了！                                                            中国�?苦�?�最辛酸的几种人，存在这�?...                                                            古今十大雅事，你会几样？                                            更多>>             function change(pro_name, i) {        var pro = document.getElementById(pro_name);         var pro_arr = pro.getElementsByTagName("span");        for (var m = 0; m < pro_arr.length; m++) {            pro_arr[m].className = "unclecked link_black";        }        pro_arr[i].className = "checked link_bai";        if (i == 1) {            document.getElementById("qh_ul_1").style.display = "";            document.getElementById("qh_ul_0").style.display = "none";        }        else if (i == 0) {            document.getElementById("qh_ul_1").style.display = "none";            document.getElementById("qh_ul_0").style.display = "";        }    }                                                                                                                                                                                                                            关闭                                                                                                                                                                                                                                                                                                                                关闭                                                                                                                                                                                                                            var asw='stringbean+sb+parser'                var appName = navigator.appName.toLowerCase();        if (appName.indexOf("microsoft internet explorer") > -1) {            document.write("<scr" + "ipt type='text/javascript' src='http://www.360doc.com/js/StickySystemIE20130911.js?t=2015041601'>");        }        else {            document.write("");        }        GerLookingUserInfo(1,1947337,1,0,'-1',-1,10,0);OutputSource('http%3a%2f%2fwww.360doc.com%2fuserhome%2f1947337');OutputCategory(1947337,20,'%e3%80%8a%e6%90%9c%e7%b4%a2%e5%bc%95%e6%93%8e%e3%80%8b');OutputLastNextArt('%e8%af%a6%e8%bf%b0SEO%e7%9a%84%e6%9c%ac%e8%b4%a8%e4%b8%8e%e5%90%91%e9%87%8f%e7%a9%ba%e9%97%b4%e6%a8%a1%e5%9e%8b','http://www.360doc.com/content/10/1227/19/1947337_81810456.shtml',0);            var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");        document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fd86954201130d615136257dde062a503' type='text/javascript'%3E%3C/script%3E"));                    document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date() / 3600000);            /r/n                                            htmlparser�?完美的抽取網頁html純文本的方法                                window.onerror = ignoreError;        function ignoreError() {            return true;        }                        /r/n    /r/n/r/n    /r/n/r/n        /r/n/r/n    /r/n/r/n    /r/n/r/n    /r/n/r/n    /r/n/r/n    /r/n        htmlparser�?完美的抽取網頁html純文本的方法    /r/n        htmlparser�?完美的抽取網頁html純文本的方法    /r/n/r/n    /r/n/r/n    /r/n/r/n/r/n    /r/n/r/n/r/n        /r/n        window.onerror = ignoreError;        function ignoreError() {            return true;        }    /r/n        window.onerror = ignoreError;        function ignoreError() {            return true;        }    /r/n/r/n    /r/n/r/n    /r/n/r/n        /r/n/r/n/r/n    /r/n/r/n/r/n/r/n                                                                                                                                                                                                                                                                            �?&nbsp;�?                                                                                                    阅览�?                                                                                                    馆友                                                                                                    我的图书�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            htmlparser�?完美的抽取網頁html純文本的方法                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        收藏人：旭龙                                                                                                                                                                                                                                                                                                                                                                                                                                                isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    2011-05-11&nbsp;|&nbsp;阅：&nbsp;&nbsp;转：&nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;|&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;&nbsp;|&nbsp;&nbsp;分享&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    HTMLParser是一个很好的html解析工具，其中一个比较实用的功能就是抽取纯文本�?�最�?阔玩游戏准备实现网站内容的全文检索，�?要进行html纯文本的抽取，但是使用google来搜索利用htmlparser抽取纯文本，虽然查询到很多网页，但是基本实现方法都千篇一律，没有�?个比较完美的纯文本抽取解决办法�??如：htmlparser�?经典的抽取纯文本的方法就是利用TextExtractingVisitor实现，代码：                        public static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                                    但是大家可以使用我下面的html试一下，看最终的解析效果如何�?                        &lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;            �?终的结果输出为：                                    &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图                        中间不仅有很多空格和回车，�?�且对于&lt;script&gt;标签，也不能很好的进行解析，仅仅只是过滤掉了script标签，但是其中的内容仍然没有进行过滤。其他的利用NodeFilter,TagNameFilter等，通过遍历每个Node节点，然后利用toPlainTextString()方法来�?�个输出，效率低不说，�?�且�?终结果也和上面的结果类似，都不能完美抽出真正�?要的纯文本�??真正能够抽取纯文本的方法为：                                    &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;                        如果要�?�虑编码问题，请在输出时对sb.getStrings()进行编码转换，即：return new String(sb.getStrings().getBytes("ISO-8859-1"));为什么要转换成ISO-8859-1编码，是因为htmlparser在解析网页的时�?�，默认是以ISO-8859-1方式进行解析的，毕竟老外的作品嘛。�?�且StringBean我仔细找了一下，没有在其中发现有设置编码方式的地方，�?以只好获取结果后重新进行�?下转换（注：我用的是htmlparser1.6）�??但是，还有很多时候，我们只是解析html格式的字符串，�?�不是直接去解析网页地址，这种情况，直接使用StringBean就比较麻烦了。�?�经过我验证，感觉StringBean是抽取纯文本�?好的�?个方法�?�网上除了StringBean上面的这个demo代码外，就没有其他的使用了�?�无奈之下，我翻�?StringBean源码，看能否根据其内部实现原理，重新进行实现。意外发现，其代码中，处理字符串的部分，代码如下�?                        protected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }            注意上面加红色的部分，哈哈，功夫不负有心人， mParser.visitAllNodesWith (this); 这个this，可不正是StringBean本身嘛，仔细�?看，StringBean果然是继承自NodeVisitor方法，也就是说，可以直接使用visitAllNodesWith()方法，即使用访问者模式解析html了�?�最终从html字符串中抽取纯文本的�?完美方法为：                                    &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                        &nbsp;查看�?终输出结果：                        每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图            怎么样，效果是不是很好？对于�?要使用lecene进行全文�?索的部分，使用以上方法将html抽取成纯文本，然后压缩存储，不仅可以极大减少索引尺寸，�?�且搜索结果必然也更精准�?阔玩游戏的全文检索功能，文章抽取的部分，就是如此实现的�??&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        来自�?旭龙&nbsp;>&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                        isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                转藏到我的图书馆                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        献花(0)                                                                                                        +1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    分享到微�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            以文找文                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    类似文章                                                                                                                                                                                                                                                        更多                                                                                                                                                                                                                                                                                                                                                                                                                                                            用HtmlParser 写个�?单的 news爬虫AA                                                                                                                                                                                                                        HTMLParser使用详解�?1�?- 初始化Parser...                                                                                                                                                                                                                        利用HtmlParser进行网页信息提取                                                                                                                                                                                                                        Java资源�? 用HTMLParser从HTML中攫取你...                                                                                                                                                                                                                        HtmlParser初步研究(�?)--约翰克里斯朵�?....                                                                                                                                                                                                                        Java发�?�Http请求，解析html返回                                                                                                                                                                                                                        Google Groups: javakb�?个解析HTML的咚...                                                                                                                                                                                                                        java怎样读取html文件                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                热搜文章                                                                                                                                                                                                                                                                                                                                                                                                                                 半身不遂喝下�?,高度致残也能�?,穷人不用... 华尔街�?�大白鲨”浮出水�?  卷入史上�?�?... 穷二代的真实自白：我奋斗�?18年还是不�?... �?张图看一看华西村之A面B�? 古代人教你如何赴饭局 好书推荐：处世大智慧—�?�受用一生的22�?... 致敬20世纪10位大师：他们是文学书画的�?... 成长之路—�?�历任团中央第一书记卸任后的...                                                                                                                                                                                                                                                                                                                                                                                         猜你喜欢生活励志名言你将踏上�?段伟大的旅程怎么修改路由器密�?�?些日常用品的妙用在岁月长河中,我们�?路走�?,告别�?�?...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            发表评论�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     �?新文�?SpringMVC关于json、xml自动转换的原...Maven�?佳实践：版本管理Apache Jakarta Commons 工具集简�?Maven pom.xml 配置详解Maven构建应用程序常用配置 | �?单之�?常用Maven插件介绍 更多                                   热门文章                                                                        中国热菜大集（上册）                                                            按照3461学习法，�?96%的机会升入重�?...                                                            菲律宾媒体：中国可以成为南海的�?�上...                                                            贵州茅台酒全�?                                                            职场上最不该说的几句�?                                                            女人决定家族的和谐，影响家人的幸�?                                                            盘点世界�?伟大的科学家犯下的错�?                                                            10道家常砂锅菜谱做法，赶紧来学学吧!                                                            为何看不见�?�看不懂、看不起�?                                                            �?大波西瓜袭来，我惊呆了！                                                            中国�?苦�?�最辛酸的几种人，存在这�?...                                                            古今十大雅事，你会几样？                                            更多>>             function change(pro_name, i) {        var pro = document.getElementById(pro_name);         var pro_arr = pro.getElementsByTagName("span");        for (var m = 0; m < pro_arr.length; m++) {            pro_arr[m].className = "unclecked link_black";        }        pro_arr[i].className = "checked link_bai";        if (i == 1) {            document.getElementById("qh_ul_1").style.display = "";            document.getElementById("qh_ul_0").style.display = "none";        }        else if (i == 0) {            document.getElementById("qh_ul_1").style.display = "none";            document.getElementById("qh_ul_0").style.display = "";        }    }                                                                                                                                                                                                                            关闭                                                                                                                                                                                                                                                                                                                                关闭                                                                                                                                                                                                                            var asw='stringbean+sb+parser'                var appName = navigator.appName.toLowerCase();        if (appName.indexOf("microsoft internet explorer") > -1) {            document.write("<scr" + "ipt type='text/javascript' src='http://www.360doc.com/js/StickySystemIE20130911.js?t=2015041601'>");        }        else {            document.write("");        }        GerLookingUserInfo(1,1947337,1,0,'-1',-1,10,0);OutputSource('http%3a%2f%2fwww.360doc.com%2fuserhome%2f1947337');OutputCategory(1947337,20,'%e3%80%8a%e6%90%9c%e7%b4%a2%e5%bc%95%e6%93%8e%e3%80%8b');OutputLastNextArt('%e8%af%a6%e8%bf%b0SEO%e7%9a%84%e6%9c%ac%e8%b4%a8%e4%b8%8e%e5%90%91%e9%87%8f%e7%a9%ba%e9%97%b4%e6%a8%a1%e5%9e%8b','http://www.360doc.com/content/10/1227/19/1947337_81810456.shtml',0);            var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");        document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fd86954201130d615136257dde062a503' type='text/javascript'%3E%3C/script%3E"));                    document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date() / 3600000);            /r/n    /r/n/r/n/r/n    /r/n                                                                                                                                                                                                                                                                    �?&nbsp;�?                                                                                                    阅览�?                                                                                                    馆友                                                                                                    我的图书�?                                                                                                                                                                                                                                                                                                                                                                                                        /r/n        /r/n                                                                                                                                                                                                                                                            �?&nbsp;�?                                                                                                    阅览�?                                                                                                    馆友                                                                                                    我的图书�?                                                                                                                                                                                                                                                                                                                                                                                    /r/n            /r/n                                                                                                                                                                                                                                                �?&nbsp;�?                                                                                                    阅览�?                                                                                                    馆友                                                                                                    我的图书�?                                                                                                                                                                                                                                                                                                                                                                            /r/n                /r/n                                    /r/n                    /r/n/r/n                /r/n/r/n                /r/n                                                                                                                                                                            �?&nbsp;�?                                                                                                    阅览�?                                                                                                    馆友                                                                                                    我的图书�?                                                                                                                        /r/n                    /r/n                                                                                                                                                        �?&nbsp;�?                                                                                                    阅览�?                                                                                                    馆友                                                                                                    我的图书�?                                                                                                        /r/n                        /r/n/r/n                            /r/n                                                                                                    �?&nbsp;�?                                                                                                    阅览�?                                                                                                    馆友                                                                                                    我的图书�?                                                            /r/n                                /r/n/r/n/r/n                                /r/n                                    �?&nbsp;�?                                /r/n                                    /r/n�?&nbsp;�?/r/n�?&nbsp;�?/r/n/r/n                                /r/n/r/n                                /r/n                                    阅览�?                                /r/n                                    /r/n阅览�?/r/n阅览�?/r/n/r/n                                /r/n/r/n                                /r/n                                    馆友                                /r/n                                    /r/n馆友/r/n馆友/r/n/r/n                                /r/n/r/n                                /r/n                                    我的图书�?                                /r/n                                    /r/n我的图书�?/r/n我的图书�?/r/n/r/n                                /r/n/r/n                            /r/n/r/n                        /r/n/r/n                    /r/n/r/n                /r/n/r/n                /r/n                /r/n                /r/n/r/n                /r/n                                                                                                                                                                                        /r/n                    /r/n                                            /r/n                        /r/n/r/n                    /r/n/r/n                    /r/n                                            /r/n                        /r/n/r/n/r/n                    /r/n/r/n                    /r/n                    /r/n                    /r/n/r/n                /r/n/r/n            /r/n/r/n        /r/n/r/n        /r/n        /r/n        /r/n/r/n    /r/n/r/n    /r/n/r/n/r/n    /r/n    /r/n    /r/n/r/n    /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    htmlparser�?完美的抽取網頁html純文本的方法                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        收藏人：旭龙                                                                                                                                                                                                                                                                                                                                                                                                                                                isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    2011-05-11&nbsp;|&nbsp;阅：&nbsp;&nbsp;转：&nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;|&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;&nbsp;|&nbsp;&nbsp;分享&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    HTMLParser是一个很好的html解析工具，其中一个比较实用的功能就是抽取纯文本�?�最�?阔玩游戏准备实现网站内容的全文检索，�?要进行html纯文本的抽取，但是使用google来搜索利用htmlparser抽取纯文本，虽然查询到很多网页，但是基本实现方法都千篇一律，没有�?个比较完美的纯文本抽取解决办法�??如：htmlparser�?经典的抽取纯文本的方法就是利用TextExtractingVisitor实现，代码：                        public static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                                    但是大家可以使用我下面的html试一下，看最终的解析效果如何�?                        &lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;            �?终的结果输出为：                                    &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图                        中间不仅有很多空格和回车，�?�且对于&lt;script&gt;标签，也不能很好的进行解析，仅仅只是过滤掉了script标签，但是其中的内容仍然没有进行过滤。其他的利用NodeFilter,TagNameFilter等，通过遍历每个Node节点，然后利用toPlainTextString()方法来�?�个输出，效率低不说，�?�且�?终结果也和上面的结果类似，都不能完美抽出真正�?要的纯文本�??真正能够抽取纯文本的方法为：                                    &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;                        如果要�?�虑编码问题，请在输出时对sb.getStrings()进行编码转换，即：return new String(sb.getStrings().getBytes("ISO-8859-1"));为什么要转换成ISO-8859-1编码，是因为htmlparser在解析网页的时�?�，默认是以ISO-8859-1方式进行解析的，毕竟老外的作品嘛。�?�且StringBean我仔细找了一下，没有在其中发现有设置编码方式的地方，�?以只好获取结果后重新进行�?下转换（注：我用的是htmlparser1.6）�??但是，还有很多时候，我们只是解析html格式的字符串，�?�不是直接去解析网页地址，这种情况，直接使用StringBean就比较麻烦了。�?�经过我验证，感觉StringBean是抽取纯文本�?好的�?个方法�?�网上除了StringBean上面的这个demo代码外，就没有其他的使用了�?�无奈之下，我翻�?StringBean源码，看能否根据其内部实现原理，重新进行实现。意外发现，其代码中，处理字符串的部分，代码如下�?                        protected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }            注意上面加红色的部分，哈哈，功夫不负有心人， mParser.visitAllNodesWith (this); 这个this，可不正是StringBean本身嘛，仔细�?看，StringBean果然是继承自NodeVisitor方法，也就是说，可以直接使用visitAllNodesWith()方法，即使用访问者模式解析html了�?�最终从html字符串中抽取纯文本的�?完美方法为：                                    &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                        &nbsp;查看�?终输出结果：                        每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图            怎么样，效果是不是很好？对于�?要使用lecene进行全文�?索的部分，使用以上方法将html抽取成纯文本，然后压缩存储，不仅可以极大减少索引尺寸，�?�且搜索结果必然也更精准�?阔玩游戏的全文检索功能，文章抽取的部分，就是如此实现的�??&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        来自�?旭龙&nbsp;>&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                        isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                转藏到我的图书馆                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        献花(0)                                                                                                        +1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    分享到微�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            以文找文                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    类似文章                                                                                                                                                                                                                                                        更多                                                                                                                                                                                                                                                                                                                                                                                                                                                            用HtmlParser 写个�?单的 news爬虫AA                                                                                                                                                                                                                        HTMLParser使用详解�?1�?- 初始化Parser...                                                                                                                                                                                                                        利用HtmlParser进行网页信息提取                                                                                                                                                                                                                        Java资源�? 用HTMLParser从HTML中攫取你...                                                                                                                                                                                                                        HtmlParser初步研究(�?)--约翰克里斯朵�?....                                                                                                                                                                                                                        Java发�?�Http请求，解析html返回                                                                                                                                                                                                                        Google Groups: javakb�?个解析HTML的咚...                                                                                                                                                                                                                        java怎样读取html文件                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                热搜文章                                                                                                                                                                                                                                                                                                                                                                                                                                 半身不遂喝下�?,高度致残也能�?,穷人不用... 华尔街�?�大白鲨”浮出水�?  卷入史上�?�?... 穷二代的真实自白：我奋斗�?18年还是不�?... �?张图看一看华西村之A面B�? 古代人教你如何赴饭局 好书推荐：处世大智慧—�?�受用一生的22�?... 致敬20世纪10位大师：他们是文学书画的�?... 成长之路—�?�历任团中央第一书记卸任后的...                                                                                                                                                                                                                                                                                                                                                                                         猜你喜欢生活励志名言你将踏上�?段伟大的旅程怎么修改路由器密�?�?些日常用品的妙用在岁月长河中,我们�?路走�?,告别�?�?...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            发表评论�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     �?新文�?SpringMVC关于json、xml自动转换的原...Maven�?佳实践：版本管理Apache Jakarta Commons 工具集简�?Maven pom.xml 配置详解Maven构建应用程序常用配置 | �?单之�?常用Maven插件介绍 更多                                   热门文章                                                                        中国热菜大集（上册）                                                            按照3461学习法，�?96%的机会升入重�?...                                                            菲律宾媒体：中国可以成为南海的�?�上...                                                            贵州茅台酒全�?                                                            职场上最不该说的几句�?                                                            女人决定家族的和谐，影响家人的幸�?                                                            盘点世界�?伟大的科学家犯下的错�?                                                            10道家常砂锅菜谱做法，赶紧来学学吧!                                                            为何看不见�?�看不懂、看不起�?                                                            �?大波西瓜袭来，我惊呆了！                                                            中国�?苦�?�最辛酸的几种人，存在这�?...                                                            古今十大雅事，你会几样？                                            更多>>             function change(pro_name, i) {        var pro = document.getElementById(pro_name);         var pro_arr = pro.getElementsByTagName("span");        for (var m = 0; m < pro_arr.length; m++) {            pro_arr[m].className = "unclecked link_black";        }        pro_arr[i].className = "checked link_bai";        if (i == 1) {            document.getElementById("qh_ul_1").style.display = "";            document.getElementById("qh_ul_0").style.display = "none";        }        else if (i == 0) {            document.getElementById("qh_ul_1").style.display = "none";            document.getElementById("qh_ul_0").style.display = "";        }    }                                                                                                                                                                                                                            关闭                                                                                                                                                                                                                                                                                                                                关闭                                                                                                                                                                                                                /r/n        /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            htmlparser�?完美的抽取網頁html純文本的方法                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        收藏人：旭龙                                                                                                                                                                                                                                                                                                                                                                                                                                                isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    2011-05-11&nbsp;|&nbsp;阅：&nbsp;&nbsp;转：&nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;|&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;&nbsp;|&nbsp;&nbsp;分享&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    HTMLParser是一个很好的html解析工具，其中一个比较实用的功能就是抽取纯文本�?�最�?阔玩游戏准备实现网站内容的全文检索，�?要进行html纯文本的抽取，但是使用google来搜索利用htmlparser抽取纯文本，虽然查询到很多网页，但是基本实现方法都千篇一律，没有�?个比较完美的纯文本抽取解决办法�??如：htmlparser�?经典的抽取纯文本的方法就是利用TextExtractingVisitor实现，代码：                        public static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                                    但是大家可以使用我下面的html试一下，看最终的解析效果如何�?                        &lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;            �?终的结果输出为：                                    &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图                        中间不仅有很多空格和回车，�?�且对于&lt;script&gt;标签，也不能很好的进行解析，仅仅只是过滤掉了script标签，但是其中的内容仍然没有进行过滤。其他的利用NodeFilter,TagNameFilter等，通过遍历每个Node节点，然后利用toPlainTextString()方法来�?�个输出，效率低不说，�?�且�?终结果也和上面的结果类似，都不能完美抽出真正�?要的纯文本�??真正能够抽取纯文本的方法为：                                    &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;                        如果要�?�虑编码问题，请在输出时对sb.getStrings()进行编码转换，即：return new String(sb.getStrings().getBytes("ISO-8859-1"));为什么要转换成ISO-8859-1编码，是因为htmlparser在解析网页的时�?�，默认是以ISO-8859-1方式进行解析的，毕竟老外的作品嘛。�?�且StringBean我仔细找了一下，没有在其中发现有设置编码方式的地方，�?以只好获取结果后重新进行�?下转换（注：我用的是htmlparser1.6）�??但是，还有很多时候，我们只是解析html格式的字符串，�?�不是直接去解析网页地址，这种情况，直接使用StringBean就比较麻烦了。�?�经过我验证，感觉StringBean是抽取纯文本�?好的�?个方法�?�网上除了StringBean上面的这个demo代码外，就没有其他的使用了�?�无奈之下，我翻�?StringBean源码，看能否根据其内部实现原理，重新进行实现。意外发现，其代码中，处理字符串的部分，代码如下�?                        protected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }            注意上面加红色的部分，哈哈，功夫不负有心人， mParser.visitAllNodesWith (this); 这个this，可不正是StringBean本身嘛，仔细�?看，StringBean果然是继承自NodeVisitor方法，也就是说，可以直接使用visitAllNodesWith()方法，即使用访问者模式解析html了�?�最终从html字符串中抽取纯文本的�?完美方法为：                                    &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                        &nbsp;查看�?终输出结果：                        每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图            怎么样，效果是不是很好？对于�?要使用lecene进行全文�?索的部分，使用以上方法将html抽取成纯文本，然后压缩存储，不仅可以极大减少索引尺寸，�?�且搜索结果必然也更精准�?阔玩游戏的全文检索功能，文章抽取的部分，就是如此实现的�??&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        来自�?旭龙&nbsp;>&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                        isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                转藏到我的图书馆                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        献花(0)                                                                                                        +1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    分享到微�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            以文找文                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    类似文章                                                                                                                                                                                                                                                        更多                                                                                                                                                                                                                                                                                                                                                                                                                                                            用HtmlParser 写个�?单的 news爬虫AA                                                                                                                                                                                                                        HTMLParser使用详解�?1�?- 初始化Parser...                                                                                                                                                                                                                        利用HtmlParser进行网页信息提取                                                                                                                                                                                                                        Java资源�? 用HTMLParser从HTML中攫取你...                                                                                                                                                                                                                        HtmlParser初步研究(�?)--约翰克里斯朵�?....                                                                                                                                                                                                                        Java发�?�Http请求，解析html返回                                                                                                                                                                                                                        Google Groups: javakb�?个解析HTML的咚...                                                                                                                                                                                                                        java怎样读取html文件                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                热搜文章                                                                                                                                                                                                                                                                                                                                                                                                                                 半身不遂喝下�?,高度致残也能�?,穷人不用... 华尔街�?�大白鲨”浮出水�?  卷入史上�?�?... 穷二代的真实自白：我奋斗�?18年还是不�?... �?张图看一看华西村之A面B�? 古代人教你如何赴饭局 好书推荐：处世大智慧—�?�受用一生的22�?... 致敬20世纪10位大师：他们是文学书画的�?... 成长之路—�?�历任团中央第一书记卸任后的...                                                                                                                                                                                                                                                                                                                                                                                         猜你喜欢生活励志名言你将踏上�?段伟大的旅程怎么修改路由器密�?�?些日常用品的妙用在岁月长河中,我们�?路走�?,告别�?�?...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            发表评论�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     �?新文�?SpringMVC关于json、xml自动转换的原...Maven�?佳实践：版本管理Apache Jakarta Commons 工具集简�?Maven pom.xml 配置详解Maven构建应用程序常用配置 | �?单之�?常用Maven插件介绍 更多                                   热门文章                                                                        中国热菜大集（上册）                                                            按照3461学习法，�?96%的机会升入重�?...                                                            菲律宾媒体：中国可以成为南海的�?�上...                                                            贵州茅台酒全�?                                                            职场上最不该说的几句�?                                                            女人决定家族的和谐，影响家人的幸�?                                                            盘点世界�?伟大的科学家犯下的错�?                                                            10道家常砂锅菜谱做法，赶紧来学学吧!                                                            为何看不见�?�看不懂、看不起�?                                                            �?大波西瓜袭来，我惊呆了！                                                            中国�?苦�?�最辛酸的几种人，存在这�?...                                                            古今十大雅事，你会几样？                                            更多>>             function change(pro_name, i) {        var pro = document.getElementById(pro_name);         var pro_arr = pro.getElementsByTagName("span");        for (var m = 0; m < pro_arr.length; m++) {            pro_arr[m].className = "unclecked link_black";        }        pro_arr[i].className = "checked link_bai";        if (i == 1) {            document.getElementById("qh_ul_1").style.display = "";            document.getElementById("qh_ul_0").style.display = "none";        }        else if (i == 0) {            document.getElementById("qh_ul_1").style.display = "none";            document.getElementById("qh_ul_0").style.display = "";        }    }                                                                                                                                                                                                                            关闭                                                                                                                                                                                                                                                                                                                                关闭                                                                                                                                                                                                            /r/n            /r/n/r/n                /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                htmlparser�?完美的抽取網頁html純文本的方法                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        收藏人：旭龙                                                                                                                                                                                                                                                                                                                                                                                                                                                isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    2011-05-11&nbsp;|&nbsp;阅：&nbsp;&nbsp;转：&nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;|&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;&nbsp;|&nbsp;&nbsp;分享&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    HTMLParser是一个很好的html解析工具，其中一个比较实用的功能就是抽取纯文本�?�最�?阔玩游戏准备实现网站内容的全文检索，�?要进行html纯文本的抽取，但是使用google来搜索利用htmlparser抽取纯文本，虽然查询到很多网页，但是基本实现方法都千篇一律，没有�?个比较完美的纯文本抽取解决办法�??如：htmlparser�?经典的抽取纯文本的方法就是利用TextExtractingVisitor实现，代码：                        public static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                                    但是大家可以使用我下面的html试一下，看最终的解析效果如何�?                        &lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;            �?终的结果输出为：                                    &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图                        中间不仅有很多空格和回车，�?�且对于&lt;script&gt;标签，也不能很好的进行解析，仅仅只是过滤掉了script标签，但是其中的内容仍然没有进行过滤。其他的利用NodeFilter,TagNameFilter等，通过遍历每个Node节点，然后利用toPlainTextString()方法来�?�个输出，效率低不说，�?�且�?终结果也和上面的结果类似，都不能完美抽出真正�?要的纯文本�??真正能够抽取纯文本的方法为：                                    &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;                        如果要�?�虑编码问题，请在输出时对sb.getStrings()进行编码转换，即：return new String(sb.getStrings().getBytes("ISO-8859-1"));为什么要转换成ISO-8859-1编码，是因为htmlparser在解析网页的时�?�，默认是以ISO-8859-1方式进行解析的，毕竟老外的作品嘛。�?�且StringBean我仔细找了一下，没有在其中发现有设置编码方式的地方，�?以只好获取结果后重新进行�?下转换（注：我用的是htmlparser1.6）�??但是，还有很多时候，我们只是解析html格式的字符串，�?�不是直接去解析网页地址，这种情况，直接使用StringBean就比较麻烦了。�?�经过我验证，感觉StringBean是抽取纯文本�?好的�?个方法�?�网上除了StringBean上面的这个demo代码外，就没有其他的使用了�?�无奈之下，我翻�?StringBean源码，看能否根据其内部实现原理，重新进行实现。意外发现，其代码中，处理字符串的部分，代码如下�?                        protected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }            注意上面加红色的部分，哈哈，功夫不负有心人， mParser.visitAllNodesWith (this); 这个this，可不正是StringBean本身嘛，仔细�?看，StringBean果然是继承自NodeVisitor方法，也就是说，可以直接使用visitAllNodesWith()方法，即使用访问者模式解析html了�?�最终从html字符串中抽取纯文本的�?完美方法为：                                    &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                        &nbsp;查看�?终输出结果：                        每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图            怎么样，效果是不是很好？对于�?要使用lecene进行全文�?索的部分，使用以上方法将html抽取成纯文本，然后压缩存储，不仅可以极大减少索引尺寸，�?�且搜索结果必然也更精准�?阔玩游戏的全文检索功能，文章抽取的部分，就是如此实现的�??&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        来自�?旭龙&nbsp;>&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                        isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                转藏到我的图书馆                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        献花(0)                                                                                                        +1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    分享到微�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            以文找文                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    类似文章                                                                                                                                                                                                                                                        更多                                                                                                                                                                                                                                                                                                                                                                                                                                                            用HtmlParser 写个�?单的 news爬虫AA                                                                                                                                                                                                                        HTMLParser使用详解�?1�?- 初始化Parser...                                                                                                                                                                                                                        利用HtmlParser进行网页信息提取                                                                                                                                                                                                                        Java资源�? 用HTMLParser从HTML中攫取你...                                                                                                                                                                                                                        HtmlParser初步研究(�?)--约翰克里斯朵�?....                                                                                                                                                                                                                        Java发�?�Http请求，解析html返回                                                                                                                                                                                                                        Google Groups: javakb�?个解析HTML的咚...                                                                                                                                                                                                                        java怎样读取html文件                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                热搜文章                                                                                                                                                                                                                                                                                                                                                                                                                                 半身不遂喝下�?,高度致残也能�?,穷人不用... 华尔街�?�大白鲨”浮出水�?  卷入史上�?�?... 穷二代的真实自白：我奋斗�?18年还是不�?... �?张图看一看华西村之A面B�? 古代人教你如何赴饭局 好书推荐：处世大智慧—�?�受用一生的22�?... 致敬20世纪10位大师：他们是文学书画的�?... 成长之路—�?�历任团中央第一书记卸任后的...                                                                                                                                                                                                                                                                                                                                                                                         猜你喜欢生活励志名言你将踏上�?段伟大的旅程怎么修改路由器密�?�?些日常用品的妙用在岁月长河中,我们�?路走�?,告别�?�?...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            发表评论�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     �?新文�?SpringMVC关于json、xml自动转换的原...Maven�?佳实践：版本管理Apache Jakarta Commons 工具集简�?Maven pom.xml 配置详解Maven构建应用程序常用配置 | �?单之�?常用Maven插件介绍 更多                                   热门文章                                                                        中国热菜大集（上册）                                                            按照3461学习法，�?96%的机会升入重�?...                                                            菲律宾媒体：中国可以成为南海的�?�上...                                                            贵州茅台酒全�?                                                            职场上最不该说的几句�?                                                            女人决定家族的和谐，影响家人的幸�?                                                            盘点世界�?伟大的科学家犯下的错�?                                                            10道家常砂锅菜谱做法，赶紧来学学吧!                                                            为何看不见�?�看不懂、看不起�?                                                            �?大波西瓜袭来，我惊呆了！                                                            中国�?苦�?�最辛酸的几种人，存在这�?...                                                            古今十大雅事，你会几样？                                            更多>>             function change(pro_name, i) {        var pro = document.getElementById(pro_name);         var pro_arr = pro.getElementsByTagName("span");        for (var m = 0; m < pro_arr.length; m++) {            pro_arr[m].className = "unclecked link_black";        }        pro_arr[i].className = "checked link_bai";        if (i == 1) {            document.getElementById("qh_ul_1").style.display = "";            document.getElementById("qh_ul_0").style.display = "none";        }        else if (i == 0) {            document.getElementById("qh_ul_1").style.display = "none";            document.getElementById("qh_ul_0").style.display = "";        }    }                                                                                                                                                                                                                            关闭                                                                                                                                                                                                                                                                                                                                关闭                                                                                                                                                                                        /r/n                    /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            htmlparser�?完美的抽取網頁html純文本的方法                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        收藏人：旭龙                                                                                                                                                                                                                                                                                                                                                                                                                                                isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    2011-05-11&nbsp;|&nbsp;阅：&nbsp;&nbsp;转：&nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;|&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;&nbsp;|&nbsp;&nbsp;分享&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    HTMLParser是一个很好的html解析工具，其中一个比较实用的功能就是抽取纯文本�?�最�?阔玩游戏准备实现网站内容的全文检索，�?要进行html纯文本的抽取，但是使用google来搜索利用htmlparser抽取纯文本，虽然查询到很多网页，但是基本实现方法都千篇一律，没有�?个比较完美的纯文本抽取解决办法�??如：htmlparser�?经典的抽取纯文本的方法就是利用TextExtractingVisitor实现，代码：                        public static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                                    但是大家可以使用我下面的html试一下，看最终的解析效果如何�?                        &lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;            �?终的结果输出为：                                    &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图                        中间不仅有很多空格和回车，�?�且对于&lt;script&gt;标签，也不能很好的进行解析，仅仅只是过滤掉了script标签，但是其中的内容仍然没有进行过滤。其他的利用NodeFilter,TagNameFilter等，通过遍历每个Node节点，然后利用toPlainTextString()方法来�?�个输出，效率低不说，�?�且�?终结果也和上面的结果类似，都不能完美抽出真正�?要的纯文本�??真正能够抽取纯文本的方法为：                                    &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;                        如果要�?�虑编码问题，请在输出时对sb.getStrings()进行编码转换，即：return new String(sb.getStrings().getBytes("ISO-8859-1"));为什么要转换成ISO-8859-1编码，是因为htmlparser在解析网页的时�?�，默认是以ISO-8859-1方式进行解析的，毕竟老外的作品嘛。�?�且StringBean我仔细找了一下，没有在其中发现有设置编码方式的地方，�?以只好获取结果后重新进行�?下转换（注：我用的是htmlparser1.6）�??但是，还有很多时候，我们只是解析html格式的字符串，�?�不是直接去解析网页地址，这种情况，直接使用StringBean就比较麻烦了。�?�经过我验证，感觉StringBean是抽取纯文本�?好的�?个方法�?�网上除了StringBean上面的这个demo代码外，就没有其他的使用了�?�无奈之下，我翻�?StringBean源码，看能否根据其内部实现原理，重新进行实现。意外发现，其代码中，处理字符串的部分，代码如下�?                        protected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }            注意上面加红色的部分，哈哈，功夫不负有心人， mParser.visitAllNodesWith (this); 这个this，可不正是StringBean本身嘛，仔细�?看，StringBean果然是继承自NodeVisitor方法，也就是说，可以直接使用visitAllNodesWith()方法，即使用访问者模式解析html了�?�最终从html字符串中抽取纯文本的�?完美方法为：                                    &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                        &nbsp;查看�?终输出结果：                        每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图            怎么样，效果是不是很好？对于�?要使用lecene进行全文�?索的部分，使用以上方法将html抽取成纯文本，然后压缩存储，不仅可以极大减少索引尺寸，�?�且搜索结果必然也更精准�?阔玩游戏的全文检索功能，文章抽取的部分，就是如此实现的�??&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        来自�?旭龙&nbsp;>&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                        isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                转藏到我的图书馆                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        献花(0)                                                                                                        +1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    分享到微�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            以文找文                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    类似文章                                                                                                                                                                                                                                                        更多                                                                                                                                                                                                                                                                                                                                                                                                                                                            用HtmlParser 写个�?单的 news爬虫AA                                                                                                                                                                                                                        HTMLParser使用详解�?1�?- 初始化Parser...                                                                                                                                                                                                                        利用HtmlParser进行网页信息提取                                                                                                                                                                                                                        Java资源�? 用HTMLParser从HTML中攫取你...                                                                                                                                                                                                                        HtmlParser初步研究(�?)--约翰克里斯朵�?....                                                                                                                                                                                                                        Java发�?�Http请求，解析html返回                                                                                                                                                                                                                        Google Groups: javakb�?个解析HTML的咚...                                                                                                                                                                                                                        java怎样读取html文件                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                热搜文章                                                                                                                                                                                                                                                                                                                                                                                                                                 半身不遂喝下�?,高度致残也能�?,穷人不用... 华尔街�?�大白鲨”浮出水�?  卷入史上�?�?... 穷二代的真实自白：我奋斗�?18年还是不�?... �?张图看一看华西村之A面B�? 古代人教你如何赴饭局 好书推荐：处世大智慧—�?�受用一生的22�?... 致敬20世纪10位大师：他们是文学书画的�?... 成长之路—�?�历任团中央第一书记卸任后的...                                                                                                                                                                                                                                                                                                                                                                                         猜你喜欢生活励志名言你将踏上�?段伟大的旅程怎么修改路由器密�?�?些日常用品的妙用在岁月长河中,我们�?路走�?,告别�?�?...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            发表评论�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                /r/n                        /r/n                        /r/n                        /r/n/r/n                        /r/n                        /r/n                        /r/n/r/n                        /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    htmlparser�?完美的抽取網頁html純文本的方法                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        收藏人：旭龙                                                                                                                                                                                                                                                                                                                                                                                                                                                isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    2011-05-11&nbsp;|&nbsp;阅：&nbsp;&nbsp;转：&nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;|&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;&nbsp;|&nbsp;&nbsp;分享&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    HTMLParser是一个很好的html解析工具，其中一个比较实用的功能就是抽取纯文本�?�最�?阔玩游戏准备实现网站内容的全文检索，�?要进行html纯文本的抽取，但是使用google来搜索利用htmlparser抽取纯文本，虽然查询到很多网页，但是基本实现方法都千篇一律，没有�?个比较完美的纯文本抽取解决办法�??如：htmlparser�?经典的抽取纯文本的方法就是利用TextExtractingVisitor实现，代码：                        public static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                                    但是大家可以使用我下面的html试一下，看最终的解析效果如何�?                        &lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;            �?终的结果输出为：                                    &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图                        中间不仅有很多空格和回车，�?�且对于&lt;script&gt;标签，也不能很好的进行解析，仅仅只是过滤掉了script标签，但是其中的内容仍然没有进行过滤。其他的利用NodeFilter,TagNameFilter等，通过遍历每个Node节点，然后利用toPlainTextString()方法来�?�个输出，效率低不说，�?�且�?终结果也和上面的结果类似，都不能完美抽出真正�?要的纯文本�??真正能够抽取纯文本的方法为：                                    &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;                        如果要�?�虑编码问题，请在输出时对sb.getStrings()进行编码转换，即：return new String(sb.getStrings().getBytes("ISO-8859-1"));为什么要转换成ISO-8859-1编码，是因为htmlparser在解析网页的时�?�，默认是以ISO-8859-1方式进行解析的，毕竟老外的作品嘛。�?�且StringBean我仔细找了一下，没有在其中发现有设置编码方式的地方，�?以只好获取结果后重新进行�?下转换（注：我用的是htmlparser1.6）�??但是，还有很多时候，我们只是解析html格式的字符串，�?�不是直接去解析网页地址，这种情况，直接使用StringBean就比较麻烦了。�?�经过我验证，感觉StringBean是抽取纯文本�?好的�?个方法�?�网上除了StringBean上面的这个demo代码外，就没有其他的使用了�?�无奈之下，我翻�?StringBean源码，看能否根据其内部实现原理，重新进行实现。意外发现，其代码中，处理字符串的部分，代码如下�?                        protected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }            注意上面加红色的部分，哈哈，功夫不负有心人， mParser.visitAllNodesWith (this); 这个this，可不正是StringBean本身嘛，仔细�?看，StringBean果然是继承自NodeVisitor方法，也就是说，可以直接使用visitAllNodesWith()方法，即使用访问者模式解析html了�?�最终从html字符串中抽取纯文本的�?完美方法为：                                    &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                        &nbsp;查看�?终输出结果：                        每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图            怎么样，效果是不是很好？对于�?要使用lecene进行全文�?索的部分，使用以上方法将html抽取成纯文本，然后压缩存储，不仅可以极大减少索引尺寸，�?�且搜索结果必然也更精准�?阔玩游戏的全文检索功能，文章抽取的部分，就是如此实现的�??&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        来自�?旭龙&nbsp;>&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                        isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                转藏到我的图书馆                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        献花(0)                                                                                                        +1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    分享到微�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            以文找文                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            /r/n                            /r/n/r/n                                /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        htmlparser�?完美的抽取網頁html純文本的方法                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        收藏人：旭龙                                                                                                                                                                                                                                                                                                                                                                                                                                                isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    2011-05-11&nbsp;|&nbsp;阅：&nbsp;&nbsp;转：&nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;|&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;&nbsp;|&nbsp;&nbsp;分享&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    HTMLParser是一个很好的html解析工具，其中一个比较实用的功能就是抽取纯文本�?�最�?阔玩游戏准备实现网站内容的全文检索，�?要进行html纯文本的抽取，但是使用google来搜索利用htmlparser抽取纯文本，虽然查询到很多网页，但是基本实现方法都千篇一律，没有�?个比较完美的纯文本抽取解决办法�??如：htmlparser�?经典的抽取纯文本的方法就是利用TextExtractingVisitor实现，代码：                        public static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                                    但是大家可以使用我下面的html试一下，看最终的解析效果如何�?                        &lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;            �?终的结果输出为：                                    &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图                        中间不仅有很多空格和回车，�?�且对于&lt;script&gt;标签，也不能很好的进行解析，仅仅只是过滤掉了script标签，但是其中的内容仍然没有进行过滤。其他的利用NodeFilter,TagNameFilter等，通过遍历每个Node节点，然后利用toPlainTextString()方法来�?�个输出，效率低不说，�?�且�?终结果也和上面的结果类似，都不能完美抽出真正�?要的纯文本�??真正能够抽取纯文本的方法为：                                    &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;                        如果要�?�虑编码问题，请在输出时对sb.getStrings()进行编码转换，即：return new String(sb.getStrings().getBytes("ISO-8859-1"));为什么要转换成ISO-8859-1编码，是因为htmlparser在解析网页的时�?�，默认是以ISO-8859-1方式进行解析的，毕竟老外的作品嘛。�?�且StringBean我仔细找了一下，没有在其中发现有设置编码方式的地方，�?以只好获取结果后重新进行�?下转换（注：我用的是htmlparser1.6）�??但是，还有很多时候，我们只是解析html格式的字符串，�?�不是直接去解析网页地址，这种情况，直接使用StringBean就比较麻烦了。�?�经过我验证，感觉StringBean是抽取纯文本�?好的�?个方法�?�网上除了StringBean上面的这个demo代码外，就没有其他的使用了�?�无奈之下，我翻�?StringBean源码，看能否根据其内部实现原理，重新进行实现。意外发现，其代码中，处理字符串的部分，代码如下�?                        protected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }            注意上面加红色的部分，哈哈，功夫不负有心人， mParser.visitAllNodesWith (this); 这个this，可不正是StringBean本身嘛，仔细�?看，StringBean果然是继承自NodeVisitor方法，也就是说，可以直接使用visitAllNodesWith()方法，即使用访问者模式解析html了�?�最终从html字符串中抽取纯文本的�?完美方法为：                                    &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                        &nbsp;查看�?终输出结果：                        每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图            怎么样，效果是不是很好？对于�?要使用lecene进行全文�?索的部分，使用以上方法将html抽取成纯文本，然后压缩存储，不仅可以极大减少索引尺寸，�?�且搜索结果必然也更精准�?阔玩游戏的全文检索功能，文章抽取的部分，就是如此实现的�??&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        来自�?旭龙&nbsp;>&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                        isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                转藏到我的图书馆                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        献花(0)                                                                                                        +1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    分享到微�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            以文找文                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        /r/n                                    /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    htmlparser�?完美的抽取網頁html純文本的方法                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        收藏人：旭龙                                                                                                                                                                                                                                                                                                                                                                                                                                                isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    2011-05-11&nbsp;|&nbsp;阅：&nbsp;&nbsp;转：&nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;|&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;&nbsp;|&nbsp;&nbsp;分享&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    HTMLParser是一个很好的html解析工具，其中一个比较实用的功能就是抽取纯文本�?�最�?阔玩游戏准备实现网站内容的全文检索，�?要进行html纯文本的抽取，但是使用google来搜索利用htmlparser抽取纯文本，虽然查询到很多网页，但是基本实现方法都千篇一律，没有�?个比较完美的纯文本抽取解决办法�??如：htmlparser�?经典的抽取纯文本的方法就是利用TextExtractingVisitor实现，代码：                        public static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                                    但是大家可以使用我下面的html试一下，看最终的解析效果如何�?                        &lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;            �?终的结果输出为：                                    &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图                        中间不仅有很多空格和回车，�?�且对于&lt;script&gt;标签，也不能很好的进行解析，仅仅只是过滤掉了script标签，但是其中的内容仍然没有进行过滤。其他的利用NodeFilter,TagNameFilter等，通过遍历每个Node节点，然后利用toPlainTextString()方法来�?�个输出，效率低不说，�?�且�?终结果也和上面的结果类似，都不能完美抽出真正�?要的纯文本�??真正能够抽取纯文本的方法为：                                    &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;                        如果要�?�虑编码问题，请在输出时对sb.getStrings()进行编码转换，即：return new String(sb.getStrings().getBytes("ISO-8859-1"));为什么要转换成ISO-8859-1编码，是因为htmlparser在解析网页的时�?�，默认是以ISO-8859-1方式进行解析的，毕竟老外的作品嘛。�?�且StringBean我仔细找了一下，没有在其中发现有设置编码方式的地方，�?以只好获取结果后重新进行�?下转换（注：我用的是htmlparser1.6）�??但是，还有很多时候，我们只是解析html格式的字符串，�?�不是直接去解析网页地址，这种情况，直接使用StringBean就比较麻烦了。�?�经过我验证，感觉StringBean是抽取纯文本�?好的�?个方法�?�网上除了StringBean上面的这个demo代码外，就没有其他的使用了�?�无奈之下，我翻�?StringBean源码，看能否根据其内部实现原理，重新进行实现。意外发现，其代码中，处理字符串的部分，代码如下�?                        protected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }            注意上面加红色的部分，哈哈，功夫不负有心人， mParser.visitAllNodesWith (this); 这个this，可不正是StringBean本身嘛，仔细�?看，StringBean果然是继承自NodeVisitor方法，也就是说，可以直接使用visitAllNodesWith()方法，即使用访问者模式解析html了�?�最终从html字符串中抽取纯文本的�?完美方法为：                                    &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                        &nbsp;查看�?终输出结果：                        每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图            怎么样，效果是不是很好？对于�?要使用lecene进行全文�?索的部分，使用以上方法将html抽取成纯文本，然后压缩存储，不仅可以极大减少索引尺寸，�?�且搜索结果必然也更精准�?阔玩游戏的全文检索功能，文章抽取的部分，就是如此实现的�??&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        来自�?旭龙&nbsp;>&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                        isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                转藏到我的图书馆                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        献花(0)                                                                                                        +1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    分享到微�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            以文找文                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        /r/n                                        /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            htmlparser�?完美的抽取網頁html純文本的方法                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        收藏人：旭龙                                                                                                                                                                                                                                                                                                                                                                                                                                                isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    2011-05-11&nbsp;|&nbsp;阅：&nbsp;&nbsp;转：&nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;|&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;&nbsp;|&nbsp;&nbsp;分享&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    HTMLParser是一个很好的html解析工具，其中一个比较实用的功能就是抽取纯文本�?�最�?阔玩游戏准备实现网站内容的全文检索，�?要进行html纯文本的抽取，但是使用google来搜索利用htmlparser抽取纯文本，虽然查询到很多网页，但是基本实现方法都千篇一律，没有�?个比较完美的纯文本抽取解决办法�??如：htmlparser�?经典的抽取纯文本的方法就是利用TextExtractingVisitor实现，代码：                        public static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                                    但是大家可以使用我下面的html试一下，看最终的解析效果如何�?                        &lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;            �?终的结果输出为：                                    &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图                        中间不仅有很多空格和回车，�?�且对于&lt;script&gt;标签，也不能很好的进行解析，仅仅只是过滤掉了script标签，但是其中的内容仍然没有进行过滤。其他的利用NodeFilter,TagNameFilter等，通过遍历每个Node节点，然后利用toPlainTextString()方法来�?�个输出，效率低不说，�?�且�?终结果也和上面的结果类似，都不能完美抽出真正�?要的纯文本�??真正能够抽取纯文本的方法为：                                    &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;                        如果要�?�虑编码问题，请在输出时对sb.getStrings()进行编码转换，即：return new String(sb.getStrings().getBytes("ISO-8859-1"));为什么要转换成ISO-8859-1编码，是因为htmlparser在解析网页的时�?�，默认是以ISO-8859-1方式进行解析的，毕竟老外的作品嘛。�?�且StringBean我仔细找了一下，没有在其中发现有设置编码方式的地方，�?以只好获取结果后重新进行�?下转换（注：我用的是htmlparser1.6）�??但是，还有很多时候，我们只是解析html格式的字符串，�?�不是直接去解析网页地址，这种情况，直接使用StringBean就比较麻烦了。�?�经过我验证，感觉StringBean是抽取纯文本�?好的�?个方法�?�网上除了StringBean上面的这个demo代码外，就没有其他的使用了�?�无奈之下，我翻�?StringBean源码，看能否根据其内部实现原理，重新进行实现。意外发现，其代码中，处理字符串的部分，代码如下�?                        protected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }            注意上面加红色的部分，哈哈，功夫不负有心人， mParser.visitAllNodesWith (this); 这个this，可不正是StringBean本身嘛，仔细�?看，StringBean果然是继承自NodeVisitor方法，也就是说，可以直接使用visitAllNodesWith()方法，即使用访问者模式解析html了�?�最终从html字符串中抽取纯文本的�?完美方法为：                                    &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                        &nbsp;查看�?终输出结果：                        每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图            怎么样，效果是不是很好？对于�?要使用lecene进行全文�?索的部分，使用以上方法将html抽取成纯文本，然后压缩存储，不仅可以极大减少索引尺寸，�?�且搜索结果必然也更精准�?阔玩游戏的全文检索功能，文章抽取的部分，就是如此实现的�??&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        来自�?旭龙&nbsp;>&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                        isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                转藏到我的图书馆                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        献花(0)                                                                                                        +1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    分享到微�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            以文找文                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    /r/n                                            /r/n/r/n                                                /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                htmlparser�?完美的抽取網頁html純文本的方法                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        收藏人：旭龙                                                                                                                                                                                                                                                                                                                                                                                                                                                isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    2011-05-11&nbsp;|&nbsp;阅：&nbsp;&nbsp;转：&nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;|&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;&nbsp;|&nbsp;&nbsp;分享&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            /r/n                                                    /r/n                                                                                                                                                                                                                                                                                                                                                                                                            htmlparser�?完美的抽取網頁html純文本的方法                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        收藏人：旭龙                                                                                                                                                                                                                                                                                                                                                                                                                                                isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    2011-05-11&nbsp;|&nbsp;阅：&nbsp;&nbsp;转：&nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;|&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;&nbsp;|&nbsp;&nbsp;分享&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            /r/n                                                        /r/n                                                                                                                                                                                                                                                                                                                                                    htmlparser�?完美的抽取網頁html純文本的方法                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        收藏人：旭龙                                                                                                                                                                                                                                                                                                                                                                                                                                                isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    2011-05-11&nbsp;|&nbsp;阅：&nbsp;&nbsp;转：&nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;|&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;&nbsp;|&nbsp;&nbsp;分享&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        /r/n                                                            /r/n/r/n                                                                /r/n                                                                                                                                                                                                                        htmlparser�?完美的抽取網頁html純文本的方法                                                                                                                                                                                                            /r/n                                                                    /r/n                                                                                                                                                    htmlparser�?完美的抽取網頁html純文本的方法                                                                                                                                            /r/n                                                                        /r/n                                                                            htmlparser�?完美的抽取網頁html純文本的方法                                                                        /r/n                                                                            htmlparser�?完美的抽取網頁html純文本的方法                                                                        /r/n/r/n                                                                    /r/n/r/n                                                                /r/n/r/n                                                                /r/n                                                                                                                                                                                                                                                                                                                                                                                            收藏人：旭龙                                                                                                                                                                                                                                                                                                                                                                                                                                                isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    2011-05-11&nbsp;|&nbsp;阅：&nbsp;&nbsp;转：&nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;|&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;&nbsp;|&nbsp;&nbsp;分享&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                /r/n                                                                    /r/n                                                                                                                                                                                                                                                                                                                        收藏人：旭龙                                                                                                                                                                                                                                                                                                                                                                                                                                                isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    2011-05-11&nbsp;|&nbsp;阅：&nbsp;&nbsp;转：&nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;|&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;&nbsp;|&nbsp;&nbsp;分享&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                /r/n                                                                        /r/n                                                                                                                                                                                                                                                收藏人：旭龙                                                                                                                                                                                                                                                                                                                                                                                                                                                isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        /r/n                                                                            /r/n                                                                                                                                                                    收藏人：旭龙                                                                                                                                                                                                                                                                                                                                                                                                                                                isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                /r/n                                                                                /r/n                                                                                    收藏人：旭龙                                                                                                                                                                                                                                                                                                                                                                                                                                                isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                    /r/n                                                                                    /r/n收藏人：旭龙                                                                                    /r/n收藏人：/r/n旭龙/r/n旭龙/r/n旭龙/r/n/r/n/r/n                                                                                    /r/n/r/n                                                                                    /r/n                                                                                                                                                                                                                                                                        isfollow(1947337);                                                                                    /r/n                                                                                        /r/n                                                                                        /r/n                                                                                        /r/n/r/n                                                                                        /r/nisfollow(1947337);/r/nisfollow(1947337);/r/n/r/n                                                                                    /r/n/r/n                                                                                    /r/n                                                                                                                                                                            /r/n                                                                                        /r/n/r/n/r/n/r/n/r/n                                                                                    /r/n/r/n                                                                                /r/n/r/n                                                                            /r/n/r/n                                                                        /r/n/r/n                                                                        /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    2011-05-11&nbsp;|&nbsp;阅：&nbsp;&nbsp;转：&nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;|&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;&nbsp;|&nbsp;&nbsp;分享&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            /r/n                                                                            /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                        2011-05-11&nbsp;|&nbsp;阅：&nbsp;&nbsp;转：&nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;|&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;&nbsp;|&nbsp;&nbsp;分享&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        /r/n                                                                                /r/n                                                                                                                                                                                                                                                                                                                                                                        2011-05-11&nbsp;|&nbsp;阅：&nbsp;&nbsp;转：&nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;|&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;&nbsp;|&nbsp;&nbsp;分享&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            /r/n                                                                                    /r/n/r/n                                                                                        /r/n                                                                                                                                                                                            2011-05-11&nbsp;|&nbsp;阅：&nbsp;&nbsp;转：&nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;|&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;&nbsp;|&nbsp;&nbsp;分享&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        /r/n                                                                                            /r/n                                                                                                2011-05-11&nbsp;|&nbsp;阅：&nbsp;&nbsp;转：&nbsp;&nbsp;                                                                                            /r/n                                                                                                2011-05-11&nbsp;|&nbsp;阅：/r/n/r/n/r/n&nbsp;&nbsp;/r/n转：/r/n转：/r/n/r/n/r/n/r/n/r/n/r/n&nbsp;&nbsp;                                                                                            /r/n/r/n                                                                                            /r/n                                                                                                                                                                                                    &nbsp;|&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        /r/n                                                                                                /r/n                                                                                                    &nbsp;|&nbsp;                                                                                                /r/n                                                                                                    &nbsp;|&nbsp;/r/n/r/n/r/n                                                                                                /r/n/r/n                                                                                                /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                            /r/n                                                                                                    /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        �?                                                                                                                                                                                                            /r/n                                                                                                        /r/n                                                                                                                                                                                                                    /r/n                                                                                                            /r/n/r/n                                                                                                        /r/n/r/n                                                                                                        /r/n                                                                                                            �?                                                                                                        /r/n                                                                                                            �?                                                                                                        /r/n/r/n                                                                                                        /r/n                                                                                                                                                                                                                    /r/n                                                                                                            /r/n/r/n                                                                                                        /r/n/r/n                                                                                                        /r/n                                                                                                            �?                                                                                                        /r/n                                                                                                            �?                                                                                                        /r/n/r/n                                                                                                        /r/n                                                                                                                                                                                                                    /r/n                                                                                                            /r/n/r/n                                                                                                        /r/n/r/n                                                                                                        /r/n                                                                                                            �?                                                                                                        /r/n                                                                                                            �?                                                                                                        /r/n/r/n                                                                                                    /r/n/r/n                                                                                                /r/n/r/n                                                                                                /r/n                                                                                                                                                                                                                                                                                                                                                                                                                /r/n                                                                                                    /r/n                                                                                                                                                                                                            /r/n                                                                                                        /r/n/r/n/r/n/r/n/r/n/r/n/r/n                                                                                                    /r/n/r/n                                                                                                /r/n/r/n                                                                                            /r/n/r/n                                                                                            /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        /r/n                                                                                                /r/n                                                                                                                                                                                                                                                                                                            /r/n                                                                                                    /r/n                                                                                                        /r/n                                                                                                        /r/n/r/n/r/n                                                                                                /r/n/r/n                                                                                            /r/n/r/n                                                                                            /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        /r/n                                                                                                /r/n                                                                                                                                                                                                                                                                                                            /r/n                                                                                                    /r/n                                                                                                        /r/n                                                                                                        /r/n/r/n/r/n                                                                                                /r/n/r/n                                                                                            /r/n/r/n                                                                                            /r/n&nbsp;&nbsp;|&nbsp;&nbsp;分享&nbsp;/r/n&nbsp;&nbsp;|&nbsp;&nbsp;/r/n分享/r/n分享/r/n/r/n&nbsp;/r/n/r/n                                                                                            /r/n                                                                                                                                                                                                                                                                                                                                                                                                    /r/n                                                                                                /r/n                                                                                                    /r/n                                                                                                    /r/n/r/n/r/n                                                                                                    /r/n                                                                                                    /r/n/r/n                                                                                            /r/n/r/n                                                                                        /r/n/r/n                                                                                    /r/n/r/n                                                                                /r/n/r/n                                                                            /r/n/r/n                                                                            /r/n                                                                            /r/n                                                                            /r/n/r/n                                                                            /r/n                                                                            /r/n                                                                            /r/n/r/n                                                                            /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                &nbsp;&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                    /r/n                                                                                /r/n/r/n                                                                                    /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            &nbsp;&nbsp;                                                                                                                                                                                                                                                                        /r/n                                                                                        /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &nbsp;&nbsp;                                                                                                                                                                                    /r/n                                                                                            /r/n                                                                                            /r/n                                                                                            /r/n/r/n                                                                                            /r/n                                                                                            /r/n                                                                                            /r/n/r/n                                                                                            /r/n                                                                                            /r/n                                                                                            /r/n/r/n                                                                                            /r/n                                                                                                &nbsp;&nbsp;                                                                                            /r/n                                                                                                &nbsp;&nbsp;                                                                                            /r/n/r/n                                                                                        /r/n/r/n                                                                                    /r/n/r/n                                                                                /r/n/r/n                                                                            /r/n/r/n                                                                        /r/n/r/n                                                                    /r/n/r/n                                                                /r/n/r/n                                                                /r/n                                                                                                                                    /r/n                                                                    /r/n/r/n/r/n                                                                /r/n/r/n                                                            /r/n/r/n                                                        /r/n/r/n                                                    /r/n/r/n                                                /r/n/r/n                                                /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        HTMLParser是一个很好的html解析工具，其中一个比较实用的功能就是抽取纯文本�?�最�?阔玩游戏准备实现网站内容的全文检索，�?要进行html纯文本的抽取，但是使用google来搜索利用htmlparser抽取纯文本，虽然查询到很多网页，但是基本实现方法都千篇一律，没有�?个比较完美的纯文本抽取解决办法�??如：htmlparser�?经典的抽取纯文本的方法就是利用TextExtractingVisitor实现，代码：                        public static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                                    但是大家可以使用我下面的html试一下，看最终的解析效果如何�?                        &lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;            �?终的结果输出为：                                    &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图                        中间不仅有很多空格和回车，�?�且对于&lt;script&gt;标签，也不能很好的进行解析，仅仅只是过滤掉了script标签，但是其中的内容仍然没有进行过滤。其他的利用NodeFilter,TagNameFilter等，通过遍历每个Node节点，然后利用toPlainTextString()方法来�?�个输出，效率低不说，�?�且�?终结果也和上面的结果类似，都不能完美抽出真正�?要的纯文本�??真正能够抽取纯文本的方法为：                                    &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;                        如果要�?�虑编码问题，请在输出时对sb.getStrings()进行编码转换，即：return new String(sb.getStrings().getBytes("ISO-8859-1"));为什么要转换成ISO-8859-1编码，是因为htmlparser在解析网页的时�?�，默认是以ISO-8859-1方式进行解析的，毕竟老外的作品嘛。�?�且StringBean我仔细找了一下，没有在其中发现有设置编码方式的地方，�?以只好获取结果后重新进行�?下转换（注：我用的是htmlparser1.6）�??但是，还有很多时候，我们只是解析html格式的字符串，�?�不是直接去解析网页地址，这种情况，直接使用StringBean就比较麻烦了。�?�经过我验证，感觉StringBean是抽取纯文本�?好的�?个方法�?�网上除了StringBean上面的这个demo代码外，就没有其他的使用了�?�无奈之下，我翻�?StringBean源码，看能否根据其内部实现原理，重新进行实现。意外发现，其代码中，处理字符串的部分，代码如下�?                        protected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }            注意上面加红色的部分，哈哈，功夫不负有心人， mParser.visitAllNodesWith (this); 这个this，可不正是StringBean本身嘛，仔细�?看，StringBean果然是继承自NodeVisitor方法，也就是说，可以直接使用visitAllNodesWith()方法，即使用访问者模式解析html了�?�最终从html字符串中抽取纯文本的�?完美方法为：                                    &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                        &nbsp;查看�?终输出结果：                        每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图            怎么样，效果是不是很好？对于�?要使用lecene进行全文�?索的部分，使用以上方法将html抽取成纯文本，然后压缩存储，不仅可以极大减少索引尺寸，�?�且搜索结果必然也更精准�?阔玩游戏的全文检索功能，文章抽取的部分，就是如此实现的�??&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        来自�?旭龙&nbsp;>&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                        isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                转藏到我的图书馆                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        献花(0)                                                                                                        +1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    分享到微�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            以文找文                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                /r/n                                                    /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    HTMLParser是一个很好的html解析工具，其中一个比较实用的功能就是抽取纯文本�?�最�?阔玩游戏准备实现网站内容的全文检索，�?要进行html纯文本的抽取，但是使用google来搜索利用htmlparser抽取纯文本，虽然查询到很多网页，但是基本实现方法都千篇一律，没有�?个比较完美的纯文本抽取解决办法�??如：htmlparser�?经典的抽取纯文本的方法就是利用TextExtractingVisitor实现，代码：                        public static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                                    但是大家可以使用我下面的html试一下，看最终的解析效果如何�?                        &lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;            �?终的结果输出为：                                    &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图                        中间不仅有很多空格和回车，�?�且对于&lt;script&gt;标签，也不能很好的进行解析，仅仅只是过滤掉了script标签，但是其中的内容仍然没有进行过滤。其他的利用NodeFilter,TagNameFilter等，通过遍历每个Node节点，然后利用toPlainTextString()方法来�?�个输出，效率低不说，�?�且�?终结果也和上面的结果类似，都不能完美抽出真正�?要的纯文本�??真正能够抽取纯文本的方法为：                                    &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;                        如果要�?�虑编码问题，请在输出时对sb.getStrings()进行编码转换，即：return new String(sb.getStrings().getBytes("ISO-8859-1"));为什么要转换成ISO-8859-1编码，是因为htmlparser在解析网页的时�?�，默认是以ISO-8859-1方式进行解析的，毕竟老外的作品嘛。�?�且StringBean我仔细找了一下，没有在其中发现有设置编码方式的地方，�?以只好获取结果后重新进行�?下转换（注：我用的是htmlparser1.6）�??但是，还有很多时候，我们只是解析html格式的字符串，�?�不是直接去解析网页地址，这种情况，直接使用StringBean就比较麻烦了。�?�经过我验证，感觉StringBean是抽取纯文本�?好的�?个方法�?�网上除了StringBean上面的这个demo代码外，就没有其他的使用了�?�无奈之下，我翻�?StringBean源码，看能否根据其内部实现原理，重新进行实现。意外发现，其代码中，处理字符串的部分，代码如下�?                        protected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }            注意上面加红色的部分，哈哈，功夫不负有心人， mParser.visitAllNodesWith (this); 这个this，可不正是StringBean本身嘛，仔细�?看，StringBean果然是继承自NodeVisitor方法，也就是说，可以直接使用visitAllNodesWith()方法，即使用访问者模式解析html了�?�最终从html字符串中抽取纯文本的�?完美方法为：                                    &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                        &nbsp;查看�?终输出结果：                        每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图            怎么样，效果是不是很好？对于�?要使用lecene进行全文�?索的部分，使用以上方法将html抽取成纯文本，然后压缩存储，不仅可以极大减少索引尺寸，�?�且搜索结果必然也更精准�?阔玩游戏的全文检索功能，文章抽取的部分，就是如此实现的�??&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        来自�?旭龙&nbsp;>&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                        isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                转藏到我的图书馆                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        献花(0)                                                                                                        +1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    分享到微�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            以文找文                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                /r/n                                                                                                                /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    HTMLParser是一个很好的html解析工具，其中一个比较实用的功能就是抽取纯文本�?�最�?阔玩游戏准备实现网站内容的全文检索，�?要进行html纯文本的抽取，但是使用google来搜索利用htmlparser抽取纯文本，虽然查询到很多网页，但是基本实现方法都千篇一律，没有�?个比较完美的纯文本抽取解决办法�??如：htmlparser�?经典的抽取纯文本的方法就是利用TextExtractingVisitor实现，代码：                        public static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                                    但是大家可以使用我下面的html试一下，看最终的解析效果如何�?                        &lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;            �?终的结果输出为：                                    &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图                        中间不仅有很多空格和回车，�?�且对于&lt;script&gt;标签，也不能很好的进行解析，仅仅只是过滤掉了script标签，但是其中的内容仍然没有进行过滤。其他的利用NodeFilter,TagNameFilter等，通过遍历每个Node节点，然后利用toPlainTextString()方法来�?�个输出，效率低不说，�?�且�?终结果也和上面的结果类似，都不能完美抽出真正�?要的纯文本�??真正能够抽取纯文本的方法为：                                    &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;                        如果要�?�虑编码问题，请在输出时对sb.getStrings()进行编码转换，即：return new String(sb.getStrings().getBytes("ISO-8859-1"));为什么要转换成ISO-8859-1编码，是因为htmlparser在解析网页的时�?�，默认是以ISO-8859-1方式进行解析的，毕竟老外的作品嘛。�?�且StringBean我仔细找了一下，没有在其中发现有设置编码方式的地方，�?以只好获取结果后重新进行�?下转换（注：我用的是htmlparser1.6）�??但是，还有很多时候，我们只是解析html格式的字符串，�?�不是直接去解析网页地址，这种情况，直接使用StringBean就比较麻烦了。�?�经过我验证，感觉StringBean是抽取纯文本�?好的�?个方法�?�网上除了StringBean上面的这个demo代码外，就没有其他的使用了�?�无奈之下，我翻�?StringBean源码，看能否根据其内部实现原理，重新进行实现。意外发现，其代码中，处理字符串的部分，代码如下�?                        protected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }            注意上面加红色的部分，哈哈，功夫不负有心人， mParser.visitAllNodesWith (this); 这个this，可不正是StringBean本身嘛，仔细�?看，StringBean果然是继承自NodeVisitor方法，也就是说，可以直接使用visitAllNodesWith()方法，即使用访问者模式解析html了�?�最终从html字符串中抽取纯文本的�?完美方法为：                                    &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                        &nbsp;查看�?终输出结果：                        每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图            怎么样，效果是不是很好？对于�?要使用lecene进行全文�?索的部分，使用以上方法将html抽取成纯文本，然后压缩存储，不仅可以极大减少索引尺寸，�?�且搜索结果必然也更精准�?阔玩游戏的全文检索功能，文章抽取的部分，就是如此实现的�??&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        来自�?旭龙&nbsp;>&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                        isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                转藏到我的图书馆                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        献花(0)                                                                                                        +1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    分享到微�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            以文找文                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            /r/n                                                            /r/n/r/n                                                                /r/n                                                                                                                                                                                                                                                                                                                                                        /r/n                                                                    /r/n                                                                                                                                                                                                                    /r/n                                                                        /r/n                                                                        /r/n                                                                        /r/n/r/n                                                                    /r/n/r/n                                                                /r/n/r/n                                                                /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                HTMLParser是一个很好的html解析工具，其中一个比较实用的功能就是抽取纯文本�?�最�?阔玩游戏准备实现网站内容的全文检索，�?要进行html纯文本的抽取，但是使用google来搜索利用htmlparser抽取纯文本，虽然查询到很多网页，但是基本实现方法都千篇一律，没有�?个比较完美的纯文本抽取解决办法�??如：htmlparser�?经典的抽取纯文本的方法就是利用TextExtractingVisitor实现，代码：                        public static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                                    但是大家可以使用我下面的html试一下，看最终的解析效果如何�?                        &lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;            �?终的结果输出为：                                    &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图                        中间不仅有很多空格和回车，�?�且对于&lt;script&gt;标签，也不能很好的进行解析，仅仅只是过滤掉了script标签，但是其中的内容仍然没有进行过滤。其他的利用NodeFilter,TagNameFilter等，通过遍历每个Node节点，然后利用toPlainTextString()方法来�?�个输出，效率低不说，�?�且�?终结果也和上面的结果类似，都不能完美抽出真正�?要的纯文本�??真正能够抽取纯文本的方法为：                                    &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;                        如果要�?�虑编码问题，请在输出时对sb.getStrings()进行编码转换，即：return new String(sb.getStrings().getBytes("ISO-8859-1"));为什么要转换成ISO-8859-1编码，是因为htmlparser在解析网页的时�?�，默认是以ISO-8859-1方式进行解析的，毕竟老外的作品嘛。�?�且StringBean我仔细找了一下，没有在其中发现有设置编码方式的地方，�?以只好获取结果后重新进行�?下转换（注：我用的是htmlparser1.6）�??但是，还有很多时候，我们只是解析html格式的字符串，�?�不是直接去解析网页地址，这种情况，直接使用StringBean就比较麻烦了。�?�经过我验证，感觉StringBean是抽取纯文本�?好的�?个方法�?�网上除了StringBean上面的这个demo代码外，就没有其他的使用了�?�无奈之下，我翻�?StringBean源码，看能否根据其内部实现原理，重新进行实现。意外发现，其代码中，处理字符串的部分，代码如下�?                        protected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }            注意上面加红色的部分，哈哈，功夫不负有心人， mParser.visitAllNodesWith (this); 这个this，可不正是StringBean本身嘛，仔细�?看，StringBean果然是继承自NodeVisitor方法，也就是说，可以直接使用visitAllNodesWith()方法，即使用访问者模式解析html了�?�最终从html字符串中抽取纯文本的�?完美方法为：                                    &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                        &nbsp;查看�?终输出结果：                        每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图            怎么样，效果是不是很好？对于�?要使用lecene进行全文�?索的部分，使用以上方法将html抽取成纯文本，然后压缩存储，不仅可以极大减少索引尺寸，�?�且搜索结果必然也更精准�?阔玩游戏的全文检索功能，文章抽取的部分，就是如此实现的�??&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        /r/n                                                                    /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            HTMLParser是一个很好的html解析工具，其中一个比较实用的功能就是抽取纯文本�?�最�?阔玩游戏准备实现网站内容的全文检索，�?要进行html纯文本的抽取，但是使用google来搜索利用htmlparser抽取纯文本，虽然查询到很多网页，但是基本实现方法都千篇一律，没有�?个比较完美的纯文本抽取解决办法�??如：htmlparser�?经典的抽取纯文本的方法就是利用TextExtractingVisitor实现，代码：                        public static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                                    但是大家可以使用我下面的html试一下，看最终的解析效果如何�?                        &lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;            �?终的结果输出为：                                    &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图                        中间不仅有很多空格和回车，�?�且对于&lt;script&gt;标签，也不能很好的进行解析，仅仅只是过滤掉了script标签，但是其中的内容仍然没有进行过滤。其他的利用NodeFilter,TagNameFilter等，通过遍历每个Node节点，然后利用toPlainTextString()方法来�?�个输出，效率低不说，�?�且�?终结果也和上面的结果类似，都不能完美抽出真正�?要的纯文本�??真正能够抽取纯文本的方法为：                                    &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;                        如果要�?�虑编码问题，请在输出时对sb.getStrings()进行编码转换，即：return new String(sb.getStrings().getBytes("ISO-8859-1"));为什么要转换成ISO-8859-1编码，是因为htmlparser在解析网页的时�?�，默认是以ISO-8859-1方式进行解析的，毕竟老外的作品嘛。�?�且StringBean我仔细找了一下，没有在其中发现有设置编码方式的地方，�?以只好获取结果后重新进行�?下转换（注：我用的是htmlparser1.6）�??但是，还有很多时候，我们只是解析html格式的字符串，�?�不是直接去解析网页地址，这种情况，直接使用StringBean就比较麻烦了。�?�经过我验证，感觉StringBean是抽取纯文本�?好的�?个方法�?�网上除了StringBean上面的这个demo代码外，就没有其他的使用了�?�无奈之下，我翻�?StringBean源码，看能否根据其内部实现原理，重新进行实现。意外发现，其代码中，处理字符串的部分，代码如下�?                        protected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }            注意上面加红色的部分，哈哈，功夫不负有心人， mParser.visitAllNodesWith (this); 这个this，可不正是StringBean本身嘛，仔细�?看，StringBean果然是继承自NodeVisitor方法，也就是说，可以直接使用visitAllNodesWith()方法，即使用访问者模式解析html了�?�最终从html字符串中抽取纯文本的�?完美方法为：                                    &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                        &nbsp;查看�?终输出结果：                        每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图            怎么样，效果是不是很好？对于�?要使用lecene进行全文�?索的部分，使用以上方法将html抽取成纯文本，然后压缩存储，不仅可以极大减少索引尺寸，�?�且搜索结果必然也更精准�?阔玩游戏的全文检索功能，文章抽取的部分，就是如此实现的�??&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        /r/n                                                                        /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                    HTMLParser是一个很好的html解析工具，其中一个比较实用的功能就是抽取纯文本�?�最�?阔玩游戏准备实现网站内容的全文检索，�?要进行html纯文本的抽取，但是使用google来搜索利用htmlparser抽取纯文本，虽然查询到很多网页，但是基本实现方法都千篇一律，没有�?个比较完美的纯文本抽取解决办法�??如：htmlparser�?经典的抽取纯文本的方法就是利用TextExtractingVisitor实现，代码：                        public static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                                    但是大家可以使用我下面的html试一下，看最终的解析效果如何�?                        &lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;            �?终的结果输出为：                                    &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图                        中间不仅有很多空格和回车，�?�且对于&lt;script&gt;标签，也不能很好的进行解析，仅仅只是过滤掉了script标签，但是其中的内容仍然没有进行过滤。其他的利用NodeFilter,TagNameFilter等，通过遍历每个Node节点，然后利用toPlainTextString()方法来�?�个输出，效率低不说，�?�且�?终结果也和上面的结果类似，都不能完美抽出真正�?要的纯文本�??真正能够抽取纯文本的方法为：                                    &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;                        如果要�?�虑编码问题，请在输出时对sb.getStrings()进行编码转换，即：return new String(sb.getStrings().getBytes("ISO-8859-1"));为什么要转换成ISO-8859-1编码，是因为htmlparser在解析网页的时�?�，默认是以ISO-8859-1方式进行解析的，毕竟老外的作品嘛。�?�且StringBean我仔细找了一下，没有在其中发现有设置编码方式的地方，�?以只好获取结果后重新进行�?下转换（注：我用的是htmlparser1.6）�??但是，还有很多时候，我们只是解析html格式的字符串，�?�不是直接去解析网页地址，这种情况，直接使用StringBean就比较麻烦了。�?�经过我验证，感觉StringBean是抽取纯文本�?好的�?个方法�?�网上除了StringBean上面的这个demo代码外，就没有其他的使用了�?�无奈之下，我翻�?StringBean源码，看能否根据其内部实现原理，重新进行实现。意外发现，其代码中，处理字符串的部分，代码如下�?                        protected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }            注意上面加红色的部分，哈哈，功夫不负有心人， mParser.visitAllNodesWith (this); 这个this，可不正是StringBean本身嘛，仔细�?看，StringBean果然是继承自NodeVisitor方法，也就是说，可以直接使用visitAllNodesWith()方法，即使用访问者模式解析html了�?�最终从html字符串中抽取纯文本的�?完美方法为：                                    &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                        &nbsp;查看�?终输出结果：                        每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图            怎么样，效果是不是很好？对于�?要使用lecene进行全文�?索的部分，使用以上方法将html抽取成纯文本，然后压缩存储，不仅可以极大减少索引尺寸，�?�且搜索结果必然也更精准�?阔玩游戏的全文检索功能，文章抽取的部分，就是如此实现的�??&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        /r/n                                                                            /r/n                                                                                                                                                                                                                                                                                                                                                        HTMLParser是一个很好的html解析工具，其中一个比较实用的功能就是抽取纯文本�?�最�?阔玩游戏准备实现网站内容的全文检索，�?要进行html纯文本的抽取，但是使用google来搜索利用htmlparser抽取纯文本，虽然查询到很多网页，但是基本实现方法都千篇一律，没有�?个比较完美的纯文本抽取解决办法�??如：htmlparser�?经典的抽取纯文本的方法就是利用TextExtractingVisitor实现，代码：                        public static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                                    但是大家可以使用我下面的html试一下，看最终的解析效果如何�?                        &lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;            �?终的结果输出为：                                    &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图                        中间不仅有很多空格和回车，�?�且对于&lt;script&gt;标签，也不能很好的进行解析，仅仅只是过滤掉了script标签，但是其中的内容仍然没有进行过滤。其他的利用NodeFilter,TagNameFilter等，通过遍历每个Node节点，然后利用toPlainTextString()方法来�?�个输出，效率低不说，�?�且�?终结果也和上面的结果类似，都不能完美抽出真正�?要的纯文本�??真正能够抽取纯文本的方法为：                                    &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;                        如果要�?�虑编码问题，请在输出时对sb.getStrings()进行编码转换，即：return new String(sb.getStrings().getBytes("ISO-8859-1"));为什么要转换成ISO-8859-1编码，是因为htmlparser在解析网页的时�?�，默认是以ISO-8859-1方式进行解析的，毕竟老外的作品嘛。�?�且StringBean我仔细找了一下，没有在其中发现有设置编码方式的地方，�?以只好获取结果后重新进行�?下转换（注：我用的是htmlparser1.6）�??但是，还有很多时候，我们只是解析html格式的字符串，�?�不是直接去解析网页地址，这种情况，直接使用StringBean就比较麻烦了。�?�经过我验证，感觉StringBean是抽取纯文本�?好的�?个方法�?�网上除了StringBean上面的这个demo代码外，就没有其他的使用了�?�无奈之下，我翻�?StringBean源码，看能否根据其内部实现原理，重新进行实现。意外发现，其代码中，处理字符串的部分，代码如下�?                        protected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }            注意上面加红色的部分，哈哈，功夫不负有心人， mParser.visitAllNodesWith (this); 这个this，可不正是StringBean本身嘛，仔细�?看，StringBean果然是继承自NodeVisitor方法，也就是说，可以直接使用visitAllNodesWith()方法，即使用访问者模式解析html了�?�最终从html字符串中抽取纯文本的�?完美方法为：                                    &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                        &nbsp;查看�?终输出结果：                        每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图            怎么样，效果是不是很好？对于�?要使用lecene进行全文�?索的部分，使用以上方法将html抽取成纯文本，然后压缩存储，不仅可以极大减少索引尺寸，�?�且搜索结果必然也更精准�?阔玩游戏的全文检索功能，文章抽取的部分，就是如此实现的�??&nbsp;                                                                                                                                                                                                                                                                                                                                        /r/n                                                                                /r/n/r/n                                                                                    /r/n                                                                                                                                                                                    HTMLParser是一个很好的html解析工具，其中一个比较实用的功能就是抽取纯文本�?�最�?阔玩游戏准备实现网站内容的全文检索，�?要进行html纯文本的抽取，但是使用google来搜索利用htmlparser抽取纯文本，虽然查询到很多网页，但是基本实现方法都千篇一律，没有�?个比较完美的纯文本抽取解决办法�??如：htmlparser�?经典的抽取纯文本的方法就是利用TextExtractingVisitor实现，代码：                        public static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                                    但是大家可以使用我下面的html试一下，看最终的解析效果如何�?                        &lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;            �?终的结果输出为：                                    &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图                        中间不仅有很多空格和回车，�?�且对于&lt;script&gt;标签，也不能很好的进行解析，仅仅只是过滤掉了script标签，但是其中的内容仍然没有进行过滤。其他的利用NodeFilter,TagNameFilter等，通过遍历每个Node节点，然后利用toPlainTextString()方法来�?�个输出，效率低不说，�?�且�?终结果也和上面的结果类似，都不能完美抽出真正�?要的纯文本�??真正能够抽取纯文本的方法为：                                    &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;                        如果要�?�虑编码问题，请在输出时对sb.getStrings()进行编码转换，即：return new String(sb.getStrings().getBytes("ISO-8859-1"));为什么要转换成ISO-8859-1编码，是因为htmlparser在解析网页的时�?�，默认是以ISO-8859-1方式进行解析的，毕竟老外的作品嘛。�?�且StringBean我仔细找了一下，没有在其中发现有设置编码方式的地方，�?以只好获取结果后重新进行�?下转换（注：我用的是htmlparser1.6）�??但是，还有很多时候，我们只是解析html格式的字符串，�?�不是直接去解析网页地址，这种情况，直接使用StringBean就比较麻烦了。�?�经过我验证，感觉StringBean是抽取纯文本�?好的�?个方法�?�网上除了StringBean上面的这个demo代码外，就没有其他的使用了�?�无奈之下，我翻�?StringBean源码，看能否根据其内部实现原理，重新进行实现。意外发现，其代码中，处理字符串的部分，代码如下�?                        protected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }            注意上面加红色的部分，哈哈，功夫不负有心人， mParser.visitAllNodesWith (this); 这个this，可不正是StringBean本身嘛，仔细�?看，StringBean果然是继承自NodeVisitor方法，也就是说，可以直接使用visitAllNodesWith()方法，即使用访问者模式解析html了�?�最终从html字符串中抽取纯文本的�?完美方法为：                                    &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                        &nbsp;查看�?终输出结果：                        每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图            怎么样，效果是不是很好？对于�?要使用lecene进行全文�?索的部分，使用以上方法将html抽取成纯文本，然后压缩存储，不仅可以极大减少索引尺寸，�?�且搜索结果必然也更精准�?阔玩游戏的全文检索功能，文章抽取的部分，就是如此实现的�??&nbsp;                                                                                                                                                                            /r/n                                                                                        /r/n                                                                                            HTMLParser是一个很好的html解析工具，其中一个比较实用的功能就是抽取纯文本�?�最�?阔玩游戏准备实现网站内容的全文检索，�?要进行html纯文本的抽取，但是使用google来搜索利用htmlparser抽取纯文本，虽然查询到很多网页，但是基本实现方法都千篇一律，没有�?个比较完美的纯文本抽取解决办法�??如：htmlparser�?经典的抽取纯文本的方法就是利用TextExtractingVisitor实现，代码：                        public static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                                    但是大家可以使用我下面的html试一下，看最终的解析效果如何�?                        &lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;            �?终的结果输出为：                                    &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图                        中间不仅有很多空格和回车，�?�且对于&lt;script&gt;标签，也不能很好的进行解析，仅仅只是过滤掉了script标签，但是其中的内容仍然没有进行过滤。其他的利用NodeFilter,TagNameFilter等，通过遍历每个Node节点，然后利用toPlainTextString()方法来�?�个输出，效率低不说，�?�且�?终结果也和上面的结果类似，都不能完美抽出真正�?要的纯文本�??真正能够抽取纯文本的方法为：                                    &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;                        如果要�?�虑编码问题，请在输出时对sb.getStrings()进行编码转换，即：return new String(sb.getStrings().getBytes("ISO-8859-1"));为什么要转换成ISO-8859-1编码，是因为htmlparser在解析网页的时�?�，默认是以ISO-8859-1方式进行解析的，毕竟老外的作品嘛。�?�且StringBean我仔细找了一下，没有在其中发现有设置编码方式的地方，�?以只好获取结果后重新进行�?下转换（注：我用的是htmlparser1.6）�??但是，还有很多时候，我们只是解析html格式的字符串，�?�不是直接去解析网页地址，这种情况，直接使用StringBean就比较麻烦了。�?�经过我验证，感觉StringBean是抽取纯文本�?好的�?个方法�?�网上除了StringBean上面的这个demo代码外，就没有其他的使用了�?�无奈之下，我翻�?StringBean源码，看能否根据其内部实现原理，重新进行实现。意外发现，其代码中，处理字符串的部分，代码如下�?                        protected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }            注意上面加红色的部分，哈哈，功夫不负有心人， mParser.visitAllNodesWith (this); 这个this，可不正是StringBean本身嘛，仔细�?看，StringBean果然是继承自NodeVisitor方法，也就是说，可以直接使用visitAllNodesWith()方法，即使用访问者模式解析html了�?�最终从html字符串中抽取纯文本的�?完美方法为：                                    &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                        &nbsp;查看�?终输出结果：                        每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图            怎么样，效果是不是很好？对于�?要使用lecene进行全文�?索的部分，使用以上方法将html抽取成纯文本，然后压缩存储，不仅可以极大减少索引尺寸，�?�且搜索结果必然也更精准�?阔玩游戏的全文检索功能，文章抽取的部分，就是如此实现的�??&nbsp;                                                                                        /r/n                                                                                            /r/nHTMLParser是一个很好的html解析工具，其中一个比较实用的功能就是抽取纯文本�?�最�?阔玩游戏准备实现网站内容的全文检索，�?要进行html纯文本的抽取，但是使用google来搜索利用htmlparser抽取纯文本，虽然查询到很多网页，但是基本实现方法都千篇一律，没有�?个比较完美的纯文本抽取解决办法�??如：htmlparser�?经典的抽取纯文本的方法就是利用TextExtractingVisitor实现，代码：                        public static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                                    但是大家可以使用我下面的html试一下，看最终的解析效果如何�?                        &lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;            �?终的结果输出为：                                    &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图                        中间不仅有很多空格和回车，�?�且对于&lt;script&gt;标签，也不能很好的进行解析，仅仅只是过滤掉了script标签，但是其中的内容仍然没有进行过滤。其他的利用NodeFilter,TagNameFilter等，通过遍历每个Node节点，然后利用toPlainTextString()方法来�?�个输出，效率低不说，�?�且�?终结果也和上面的结果类似，都不能完美抽出真正�?要的纯文本�??真正能够抽取纯文本的方法为：                                    &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;                        如果要�?�虑编码问题，请在输出时对sb.getStrings()进行编码转换，即：return new String(sb.getStrings().getBytes("ISO-8859-1"));为什么要转换成ISO-8859-1编码，是因为htmlparser在解析网页的时�?�，默认是以ISO-8859-1方式进行解析的，毕竟老外的作品嘛。�?�且StringBean我仔细找了一下，没有在其中发现有设置编码方式的地方，�?以只好获取结果后重新进行�?下转换（注：我用的是htmlparser1.6）�??但是，还有很多时候，我们只是解析html格式的字符串，�?�不是直接去解析网页地址，这种情况，直接使用StringBean就比较麻烦了。�?�经过我验证，感觉StringBean是抽取纯文本�?好的�?个方法�?�网上除了StringBean上面的这个demo代码外，就没有其他的使用了�?�无奈之下，我翻�?StringBean源码，看能否根据其内部实现原理，重新进行实现。意外发现，其代码中，处理字符串的部分，代码如下�?                        protected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }            注意上面加红色的部分，哈哈，功夫不负有心人， mParser.visitAllNodesWith (this); 这个this，可不正是StringBean本身嘛，仔细�?看，StringBean果然是继承自NodeVisitor方法，也就是说，可以直接使用visitAllNodesWith()方法，即使用访问者模式解析html了�?�最终从html字符串中抽取纯文本的�?完美方法为：                                    &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                        &nbsp;查看�?终输出结果：                        每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图            怎么样，效果是不是很好？对于�?要使用lecene进行全文�?索的部分，使用以上方法将html抽取成纯文本，然后压缩存储，不仅可以极大减少索引尺寸，�?�且搜索结果必然也更精准�?阔玩游戏的全文检索功能，文章抽取的部分，就是如此实现的�??&nbsp;/r/nHTMLParser是一个很好的html解析工具，其中一个比较实用的功能就是抽取纯文本�?�最�?阔玩游戏准备实现网站内容的全文检索，�?要进行html纯文本的抽取，但是使用google来搜索利用htmlparser抽取纯文本，虽然查询到很多网页，但是基本实现方法都千篇一律，没有�?个比较完美的纯文本抽取解决办法�??如：htmlparser�?经典的抽取纯文本的方法就是利用TextExtractingVisitor实现，代码：                        public static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                                    但是大家可以使用我下面的html试一下，看最终的解析效果如何�?                        &lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;            �?终的结果输出为：                                    &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图                        中间不仅有很多空格和回车，�?�且对于&lt;script&gt;标签，也不能很好的进行解析，仅仅只是过滤掉了script标签，但是其中的内容仍然没有进行过滤。其他的利用NodeFilter,TagNameFilter等，通过遍历每个Node节点，然后利用toPlainTextString()方法来�?�个输出，效率低不说，�?�且�?终结果也和上面的结果类似，都不能完美抽出真正�?要的纯文本�??真正能够抽取纯文本的方法为：                                    &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;                        如果要�?�虑编码问题，请在输出时对sb.getStrings()进行编码转换，即：return new String(sb.getStrings().getBytes("ISO-8859-1"));为什么要转换成ISO-8859-1编码，是因为htmlparser在解析网页的时�?�，默认是以ISO-8859-1方式进行解析的，毕竟老外的作品嘛。�?�且StringBean我仔细找了一下，没有在其中发现有设置编码方式的地方，�?以只好获取结果后重新进行�?下转换（注：我用的是htmlparser1.6）�??但是，还有很多时候，我们只是解析html格式的字符串，�?�不是直接去解析网页地址，这种情况，直接使用StringBean就比较麻烦了。�?�经过我验证，感觉StringBean是抽取纯文本�?好的�?个方法�?�网上除了StringBean上面的这个demo代码外，就没有其他的使用了�?�无奈之下，我翻�?StringBean源码，看能否根据其内部实现原理，重新进行实现。意外发现，其代码中，处理字符串的部分，代码如下�?                        protected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }            注意上面加红色的部分，哈哈，功夫不负有心人， mParser.visitAllNodesWith (this); 这个this，可不正是StringBean本身嘛，仔细�?看，StringBean果然是继承自NodeVisitor方法，也就是说，可以直接使用visitAllNodesWith()方法，即使用访问者模式解析html了�?�最终从html字符串中抽取纯文本的�?完美方法为：                                    &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                        &nbsp;查看�?终输出结果：                        每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图            怎么样，效果是不是很好？对于�?要使用lecene进行全文�?索的部分，使用以上方法将html抽取成纯文本，然后压缩存储，不仅可以极大减少索引尺寸，�?�且搜索结果必然也更精准�?阔玩游戏的全文检索功能，文章抽取的部分，就是如此实现的�??&nbsp;/r/nHTMLParser是一个很好的html解析工具，其中一个比较实用的功能就是抽取纯文本�?�最�?阔玩游戏准备实现网站内容的全文检索，�?要进行html纯文本的抽取，但是使用google来搜索利用htmlparser抽取纯文本，虽然查询到很多网页，但是基本实现方法都千篇一律，没有�?个比较完美的纯文本抽取解决办法�??/r/nHTMLParser是一个很好的html解析工具，其中一个比较实用的功能就是抽取纯文本�?�最�?/r/n阔玩游戏/r/n阔玩游戏/r/n/r/n准备实现网站内容的全文检索，�?要进行html纯文本的抽取，但是使用google来搜索利用htmlparser抽取纯文本，虽然查询到很多网页，但是基本实现方法都千篇一律，没有�?个比较完美的纯文本抽取解决办法�??/r/n/r/n如：htmlparser�?经典的抽取纯文本的方法就是利用TextExtractingVisitor实现，代码：/r/n如：htmlparser�?经典的抽取纯文本的方法就是利用TextExtractingVisitor实现，代码：/r/n/r/n                        public static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                                    /r/n                        public static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                                    /r/n    /r/n/r/n        /r/n            public static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                                /r/n            /r/npublic static String getPlainText2(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                        /r/npublic static String getPlainText2(String str) {/r/n/r/n&nbsp;&nbsp;try {/r/n/r/n&nbsp;&nbsp;&nbsp;Parser parser = new Parser();/r/n/r/n&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            /r/n/r/n/r/n&nbsp;&nbsp;&nbsp;TextExtractingVisitor visitor = new TextExtractingVisitor();/r/n/r/n&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(visitor);/r/n/r/n&nbsp;&nbsp;&nbsp;str = visitor.getExtractedText();/r/n/r/n&nbsp;&nbsp;} catch (ParserException e) {/r/n/r/n&nbsp;&nbsp;&nbsp;log.error(e);/r/n/r/n&nbsp;&nbsp;}/r/n/r/n/r/n            /r/n/r/n/r/n&nbsp;&nbsp;return str;/r/n/r/n&nbsp;}            /r/n/r/n/r/n            /r/n/r/n        /r/n/r/n    /r/n/r/n/r/n/r/n但是大家可以使用我下面的html试一下，看最终的解析效果如何�?/r/n/r/n但是大家可以使用我下面的html试一下，看最终的解析效果如何�?/r/n/r/n/r/n/r/n/r/n/r/n/r/n                        &lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;            /r/n                        &lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;            /r/n    /r/n/r/n        /r/n            &lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;        /r/n            /r/n&lt;div id="tj_content"&gt;&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;&nbsp;&lt;ul class="tj_text1"&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152576.htm" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152575.htm" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152574.htm" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://bl.kuowan.com/a/2010/07-15/152573.htm" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152869.htm" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152870.htm" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152867.htm" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152865.htm" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://netgame.kuowan.com/p/2010/07-15/152990.htm" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;&nbsp;&nbsp;&lt;/ul&gt;&nbsp;&lt;/ul&gt;&nbsp;&lt;div class="tj_pic1"&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://pc.kuowan.com/a/2010/07-15/152872.htm" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152992.htm" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/p/2010/07-15/152993.htm" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&nbsp;&nbsp;&lt;dl&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" target="_blank"&gt;&lt;img src="http://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="http://tv.kuowan.com/a/2010/07-15/152961.htm" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;&nbsp;&nbsp;&nbsp;&lt;/dl&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&gt;&nbsp; &lt;script type="text/javascript"&gt;&lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&lt;/script&gt;&nbsp; &lt;script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"&gt;&nbsp; &lt;/script&gt;&nbsp;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;div class="blog_nav"&gt;&nbsp;&lt;div class="pre_next"&gt;&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-17/147221.htm" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;a href="http://pic.kuowan.com/p/2010/06-12/143837.htm" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;&nbsp;&lt;/div&gt;&lt;/div&gt;/r/n&lt;div id="tj_content"&gt;/r/n/r/n&nbsp;&lt;b&gt;每日导读&lt;/b&gt;&lt;br/&gt;/r/n/r/n&nbsp;&lt;ul class="tj_text1"&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="/r/nhttp://bl.kuowan.com/a/2010/07-15/152576.htm/r/nhttp://bl.kuowan.com/a/2010/07-15/152576.htm/r/n/r/n" title="纯情足球宝贝冷艳写真" target="_blank"&gt;纯情足球宝贝冷艳写真&lt;/a&gt;&lt;/li&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="/r/nhttp://bl.kuowan.com/a/2010/07-15/152575.htm/r/nhttp://bl.kuowan.com/a/2010/07-15/152575.htm/r/n/r/n" title="干净清爽的少女美腿写�?" target="_blank"&gt;干净清爽的少女美腿写�?&lt;/a&gt;&lt;/li&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="/r/nhttp://bl.kuowan.com/a/2010/07-15/152574.htm/r/nhttp://bl.kuowan.com/a/2010/07-15/152574.htm/r/n/r/n" title="完美胸器，极品女人流口水" target="_blank"&gt;完美胸器，极品女人流口水&lt;/a&gt;&lt;/li&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="/r/nhttp://bl.kuowan.com/a/2010/07-15/152573.htm/r/nhttp://bl.kuowan.com/a/2010/07-15/152573.htm/r/n/r/n" title="再发几张给各位狼友养养眼" target="_blank"&gt;再发几张给各位狼友养养眼&lt;/a&gt;&lt;/li&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="/r/nhttp://pc.kuowan.com/a/2010/07-15/152869.htm/r/nhttp://pc.kuowan.com/a/2010/07-15/152869.htm/r/n/r/n" title="联想大力支持《古剑奇谭�?�游戏测�?" target="_blank"&gt;联想大力支持《古剑奇谭�?�游戏测�?&lt;/a&gt;&lt;/li&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="/r/nhttp://pc.kuowan.com/a/2010/07-15/152870.htm/r/nhttp://pc.kuowan.com/a/2010/07-15/152870.htm/r/n/r/n" title="《古剑奇谭�?�V1.0.3版补�? 多项优化" target="_blank"&gt;《古剑奇谭�?�V1.0.3版补�? 多项优化&lt;/a&gt;&lt;/li&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="/r/nhttp://pc.kuowan.com/a/2010/07-15/152867.htm/r/nhttp://pc.kuowan.com/a/2010/07-15/152867.htm/r/n/r/n" title="宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿" target="_blank"&gt;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&lt;/a&gt;&lt;/li&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="/r/nhttp://pc.kuowan.com/a/2010/07-15/152865.htm/r/nhttp://pc.kuowan.com/a/2010/07-15/152865.htm/r/n/r/n" title="索尼�?3D让核心玩家更容易建立优势" target="_blank"&gt;索尼�?3D让核心玩家更容易建立优势&lt;/a&gt;&lt;/li&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="/r/nhttp://netgame.kuowan.com/p/2010/07-15/152990.htm/r/nhttp://netgame.kuowan.com/p/2010/07-15/152990.htm/r/n/r/n" title="抱抱女漫展漂亮组�?" target="_blank"&gt;抱抱女漫展漂亮组�?&lt;/a&gt;&lt;/li&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a href="/r/nhttp://tv.kuowan.com/p/2010/07-15/152993.htm/r/nhttp://tv.kuowan.com/p/2010/07-15/152993.htm/r/n/r/n" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/li&gt;/r/n/r/n&nbsp;&nbsp;&lt;/ul&gt;/r/n/r/n&nbsp;&lt;/ul&gt;/r/n/r/n&nbsp;&lt;div class="tj_pic1"&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&lt;dl&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="/r/nhttp://pc.kuowan.com/a/2010/07-15/152872.htm/r/nhttp://pc.kuowan.com/a/2010/07-15/152872.htm/r/n/r/n" target="_blank"&gt;&lt;img src="/r/nhttp://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg/r/nhttp://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf27e6006c.jpg/r/n/r/n" alt="意念控制游戏装置上市 售价�?677�?(�?)" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="/r/nhttp://pc.kuowan.com/a/2010/07-15/152872.htm/r/nhttp://pc.kuowan.com/a/2010/07-15/152872.htm/r/n/r/n" title="意念控制游戏装置上市 售价�?677�?(�?)" target="_blank"&gt;意念控制游戏装置上市 售价�?677�?(�?)&lt;/a&gt;&lt;/dd&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&lt;/dl&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&lt;dl&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="/r/nhttp://tv.kuowan.com/p/2010/07-15/152992.htm/r/nhttp://tv.kuowan.com/p/2010/07-15/152992.htm/r/n/r/n" target="_blank"&gt;&lt;img src="/r/nhttp://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg/r/nhttp://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfcd7d0113.jpg/r/n/r/n" alt="原型体高清壁�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="/r/nhttp://tv.kuowan.com/p/2010/07-15/152992.htm/r/nhttp://tv.kuowan.com/p/2010/07-15/152992.htm/r/n/r/n" title="原型体高清壁�?" target="_blank"&gt;原型体高清壁�?&lt;/a&gt;&lt;/dd&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&lt;/dl&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&lt;dl&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="/r/nhttp://tv.kuowan.com/p/2010/07-15/152993.htm/r/nhttp://tv.kuowan.com/p/2010/07-15/152993.htm/r/n/r/n" target="_blank"&gt;&lt;img src="/r/nhttp://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg/r/nhttp://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cf4e3b0091.jpg/r/n/r/n" alt="索尼克高清壁纸美�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="/r/nhttp://tv.kuowan.com/p/2010/07-15/152993.htm/r/nhttp://tv.kuowan.com/p/2010/07-15/152993.htm/r/n/r/n" title="索尼克高清壁纸美�?" target="_blank"&gt;索尼克高清壁纸美�?&lt;/a&gt;&lt;/dd&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&lt;/dl&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&lt;dl&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&lt;dt&gt;&lt;a href="/r/nhttp://tv.kuowan.com/a/2010/07-15/152961.htm/r/nhttp://tv.kuowan.com/a/2010/07-15/152961.htm/r/n/r/n" target="_blank"&gt;&lt;img src="/r/nhttp://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg/r/nhttp://img.kuowan.com/2010/07/15/ba5519c129d6cea40129d6cfce190114.jpg/r/n/r/n" alt="《紫外线 击杀》未完全上市 续作已在�?�?" width="120" height="90"/&gt;&lt;/a&gt;&lt;/dt&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&lt;dd&gt;&lt;a href="/r/nhttp://tv.kuowan.com/a/2010/07-15/152961.htm/r/nhttp://tv.kuowan.com/a/2010/07-15/152961.htm/r/n/r/n" title="《紫外线 击杀》未完全上市 续作已在�?�?" target="_blank"&gt;《紫外线 击杀》未完全上市 续作已在�?�?&lt;/a&gt;&lt;/dd&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;&lt;/dl&gt;/r/n/r/n&nbsp;&lt;/div&gt;/r/n/r/n&lt;/div&gt;/r/n/r/n&nbsp;/r/n&nbsp;/r/n&nbsp;/r/n/r/n/r/n&lt;div&gt;/r/n/r/n&nbsp; &lt;script type="text/javascript"&gt;&lt;!--/r/n/r/n&nbsp; google_ad_client = "pub-2222222";/r/n/r/n&nbsp; google_ad_slot = "1111111";/r/n/r/n&nbsp; google_ad_width = 728;/r/n/r/n&nbsp; google_ad_height = 90;/r/n/r/n&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";/r/n/r/n&nbsp; //--&gt;&lt;/script&gt;/r/n/r/n&nbsp; &lt;script type="text/javascript" src="/r/nhttp://pagead2.googlesyndication.com/pagead/show_ads.js/r/nhttp://pagead2.googlesyndication.com/pagead/show_ads.js/r/n/r/n"&gt;/r/n/r/n&nbsp; &lt;/script&gt;&nbsp;/r/n&nbsp;/r/n&nbsp;/r/n/r/n/r/n&lt;/div&gt;/r/n/r/n&nbsp;/r/n&nbsp;/r/n&nbsp;/r/n/r/n/r/n&lt;div class="blog_nav"&gt;/r/n/r/n&nbsp;&lt;div class="pre_next"&gt;/r/n/r/n&nbsp;&nbsp;&lt;a href="/r/nhttp://pic.kuowan.com/p/2010/06-17/147221.htm/r/nhttp://pic.kuowan.com/p/2010/06-17/147221.htm/r/n/r/n" class="next" title="性感女王真实再现《�?�女幽魂Online》聂小�??/r/n/r/n"&gt;性感女王真实再现《�?�女幽魂Online》聂小�??&lt;/a&gt;/r/n/r/n&nbsp;&nbsp;&nbsp;|/r/n/r/n&nbsp;&nbsp;&lt;a href="/r/nhttp://pic.kuowan.com/p/2010/06-12/143837.htm/r/nhttp://pic.kuowan.com/p/2010/06-12/143837.htm/r/n/r/n" class="pre" title="青春俏皮的可爱小美女自拍套图"&gt;青春俏皮的可爱小美女自拍套图&lt;/a&gt;/r/n/r/n&nbsp;&lt;/div&gt;/r/n/r/n&lt;/div&gt;/r/n/r/n        /r/n/r/n    /r/n/r/n/r/n/r/n/r/n/r/n�?终的结果输出为：/r/n/r/n/r/n                                    &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图                        /r/n                                    &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图                        /r/n    /r/n/r/n        /r/n                        &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图                    /r/n            /r/n            &nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            &nbsp;            &nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图            /r/n            /r/n&nbsp;每日导读&nbsp;&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?&nbsp;&nbsp;&nbsp;&nbsp;/r/n/r/n&nbsp;每日导读/r/n/r/n&nbsp;/r/n/r/n&nbsp;&nbsp;&nbsp;纯情足球宝贝冷艳写真/r/n/r/n&nbsp;&nbsp;&nbsp;干净清爽的少女美腿写�?/r/n/r/n&nbsp;&nbsp;&nbsp;完美胸器，极品女人流口水/r/n/r/n&nbsp;&nbsp;&nbsp;再发几张给各位狼友养养眼/r/n/r/n&nbsp;&nbsp;&nbsp;联想大力支持《古剑奇谭�?�游戏测�?/r/n/r/n&nbsp;&nbsp;&nbsp;《古剑奇谭�?�V1.0.3版补�? 多项优化/r/n/r/n&nbsp;&nbsp;&nbsp;宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿/r/n/r/n&nbsp;&nbsp;&nbsp;索尼�?3D让核心玩家更容易建立优势/r/n/r/n&nbsp;&nbsp;&nbsp;抱抱女漫展漂亮组�?/r/n/r/n&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?/r/n/r/n&nbsp;&nbsp;/r/n/r/n&nbsp;/r/n/r/n&nbsp;/r/n/r/n&nbsp;&nbsp;&nbsp;/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;意念控制游戏装置上市 售价�?677�?(�?)/r/n/r/n&nbsp;&nbsp;&nbsp;/r/n/r/n&nbsp;&nbsp;&nbsp;/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;原型体高清壁�?/r/n/r/n&nbsp;&nbsp;&nbsp;/r/n/r/n&nbsp;&nbsp;&nbsp;/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;索尼克高清壁纸美�?/r/n/r/n&nbsp;&nbsp;&nbsp;/r/n/r/n&nbsp;&nbsp;&nbsp;/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;《紫外线 击杀》未完全上市 续作已在�?�?/r/n/r/n&nbsp;&nbsp;&nbsp;/r/n/r/n&nbsp;/r/n/r/n            /r/n&nbsp;/r/n&nbsp;/r/n/r/n            /r/n&nbsp; &lt;!--&nbsp; google_ad_client = "pub-2222222";&nbsp; google_ad_slot = "1111111";&nbsp; google_ad_width = 728;&nbsp; google_ad_height = 90;&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";&nbsp; //--&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/r/n&nbsp; &lt;!--/r/n/r/n&nbsp; google_ad_client = "pub-2222222";/r/n/r/n&nbsp; google_ad_slot = "1111111";/r/n/r/n&nbsp; google_ad_width = 728;/r/n/r/n&nbsp; google_ad_height = 90;/r/n/r/n&nbsp; google_str="如果是纯文本，这里由于在script标签内，�?以也不应该显�?";/r/n/r/n&nbsp; //--&gt;/r/n/r/n&nbsp;/r/n&nbsp;/r/n&nbsp;/r/n/r/n/r/n&nbsp;&nbsp;&nbsp;/r/n/r/n            /r/n&nbsp;/r/n&nbsp;/r/n/r/n            /r/n&nbsp;&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图/r/n&nbsp;/r/n/r/n&nbsp;&nbsp;性感女王真实再现《�?�女幽魂Online》聂小�??/r/n/r/n&nbsp;&nbsp;&nbsp;|/r/n/r/n&nbsp;&nbsp;青春俏皮的可爱小美女自拍套图/r/n/r/n            /r/n/r/n        /r/n/r/n    /r/n/r/n/r/n/r/n中间不仅有很多空格和回车，�?�且对于&lt;script&gt;标签，也不能很好的进行解析，仅仅只是过滤掉了script标签，但是其中的内容仍然没有进行过滤。其他的利用NodeFilter,TagNameFilter等，通过遍历每个Node节点，然后利用toPlainTextString()方法来�?�个输出，效率低不说，�?�且�?终结果也和上面的结果类似，都不能完美抽出真正�?要的纯文本�??/r/n中间不仅有很多空格和回车，�?�且对于&lt;script&gt;标签，也不能很好的进行解析，仅仅只是过滤掉了script标签，但是其中的内容仍然没有进行过滤。其他的利用/r/n/r/nNodeFilter,TagNameFilter等，通过遍历每个Node节点，然后利用toPlainTextString()方法来�?�个输出，效率低不说，�?�且�?终结果也和上面的结果类似，都不能完美抽出真正�?要的纯文本�??/r/n/r/n/r/n真正能够抽取纯文本的方法为：/r/n/r/n真正能够抽取纯文本的方法为：/r/n/r/n/r/n                                    &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;                        /r/n                                    &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;                        /r/n    /r/n/r/n        /r/n                        &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;                    /r/n            /r/n            &nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;            /r/n            /r/n&nbsp;/**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;/r/n&nbsp;/**&nbsp;/r/n&nbsp;/r/n&nbsp;/r/n/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp; * 根据提供的URL，获取此URL对应网页的纯文本信息&nbsp;/r/n&nbsp;/r/n&nbsp;/r/n/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp; * @param url 提供的URL链接&nbsp;/r/n&nbsp;/r/n&nbsp;/r/n/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp; * @return RL对应网页的纯文本信息&nbsp;/r/n&nbsp;/r/n&nbsp;/r/n/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp; * @throws ParserException&nbsp;/r/n&nbsp;/r/n&nbsp;/r/n/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp; */&nbsp;&nbsp;/r/n/r/n&nbsp;&nbsp;&nbsp; public String getText(String url)throws ParserException{&nbsp;&nbsp;/r/n&nbsp;/r/n&nbsp;/r/n/r/n/r/n&nbsp;&nbsp;StringBean sb = new StringBean();/r/n&nbsp;/r/n&nbsp;/r/n/r/n/r/n&nbsp;&nbsp;try {&nbsp;/r/n&nbsp;/r/n&nbsp;/r/n/r/n/r/n&nbsp;&nbsp;&nbsp;//设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;/r/n&nbsp;/r/n&nbsp;/r/n/r/n/r/n&nbsp;&nbsp;&nbsp;sb.setLinks(false);/r/n/r/n&nbsp;&nbsp;&nbsp;/r/n/r/n&nbsp;&nbsp;&nbsp;//设置将不间断空格由正规空格所替代&nbsp;&nbsp;/r/n&nbsp;/r/n&nbsp;/r/n/r/n/r/n&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);/r/n/r/n&nbsp;&nbsp;&nbsp;/r/n/r/n&nbsp;&nbsp;&nbsp;//设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;/r/n&nbsp;/r/n&nbsp;/r/n/r/n/r/n&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;/r/n&nbsp;/r/n&nbsp;/r/n/r/n/r/n&nbsp;&nbsp;&nbsp;/r/n/r/n&nbsp;&nbsp;&nbsp;//传入要解析的URL&nbsp;&nbsp;/r/n&nbsp;/r/n&nbsp;/r/n/r/n/r/n&nbsp;&nbsp;&nbsp;sb.setURL(url);&nbsp;&nbsp;&nbsp;&nbsp;/r/n&nbsp;/r/n&nbsp;/r/n/r/n/r/n&nbsp;&nbsp;} catch (ParserException e) {/r/n/r/n&nbsp;&nbsp;&nbsp;log.error(e);/r/n/r/n&nbsp;&nbsp;}/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return sb.getStrings();&nbsp;&nbsp;/r/n&nbsp;/r/n&nbsp;/r/n/r/n/r/n&nbsp;&nbsp;&nbsp; }&nbsp;/r/n/r/n            /r/n/r/n        /r/n/r/n    /r/n/r/n/r/n/r/n如果要�?�虑编码问题，请在输出时对sb.getStrings()进行编码转换，即：return new String(sb.getStrings().getBytes("ISO-8859-1"));为什么要转换成ISO-8859-1编码，是因为htmlparser在解析网页的时�?�，默认是以ISO-8859-1方式进行解析的，毕竟老外的作品嘛。�?�且StringBean我仔细找了一下，没有在其中发现有设置编码方式的地方，�?以只好获取结果后重新进行�?下转换（注：我用的是htmlparser1.6）�??/r/n如果要�?�虑编码问题，请在输出时对sb.getStrings()进行编码转换，即：return new String(sb.getStrings().getBytes("ISO-8859-1"));为什么要转换成ISO-8859-1编码，是因为htmlparser在解析网页的时�?�，默认是以ISO-8859-1方式进行解析的，毕竟老外的作品嘛。�?�且StringBean我仔细找了一下，没有在其中发现有设置编码方式的地方，�?以只好获取结果后重新进行�?下转换（注：我用的是htmlparser1.6）�??/r/n/r/n但是，还有很多时候，我们只是解析html格式的字符串，�?�不是直接去解析网页地址，这种情况，直接使用StringBean就比较麻烦了。�?�经过我验证，感觉StringBean是抽取纯文本�?好的�?个方法�?�网上除了StringBean上面的这个demo代码外，就没有其他的使用了�?�无奈之下，我翻�?StringBean源码，看能否根据其内部实现原理，重新进行实现。意外发现，其代码中，处理字符串的部分，代码如下�?/r/n但是，还有很多时候，我们只是解析html格式的字符串，�?�不是直接去解析网页地址，这种情况，直接使用StringBean就比较麻烦了。�?�经过我验证，感觉StringBean是抽取纯文本�?好的�?个方法�?�网上除了StringBean上面的这个demo代码外，就没有其他的使用了�?�无奈之下，我翻�?StringBean源码，看能否根据其内部实现原理，重新进行实现。意外发现，其代码中，处理字符串的部分，代码如下�?/r/n/r/n                        protected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }            /r/n                        protected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }            /r/n    /r/n/r/n        /r/n            protected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }        /r/n            /r/nprotected void setStrings ()&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }/r/nprotected void setStrings ()/r/n/r/n&nbsp;&nbsp;&nbsp; {/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (null != getURL ())/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/r/n&nbsp;/r/n&nbsp;/r/n/r/nmParser.visitAllNodesWith (this);/r/nmParser.visitAllNodesWith (this);/r/n/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (EncodingChangeException ece)/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsPre = false;/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsScript = false;/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mIsStyle = false;/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; // try again with the encoding now in force/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.reset ();/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mCollapseState = 0;/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mParser.visitAllNodesWith (this);/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (mBuffer.toString ());/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; finally/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (ParserException pe)/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateStrings (pe.toString ());/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset in case this StringBean is used as a visitor/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // on another parser, not it's own/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mStrings = null;/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mBuffer = new StringBuffer (4096);/r/n/r/n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }/r/n/r/n&nbsp;&nbsp;&nbsp; }/r/n/r/n        /r/n/r/n    /r/n/r/n/r/n/r/n注意上面加红色的部分，哈哈，功夫不负有心人， mParser.visitAllNodesWith (this); 这个this，可不正是StringBean本身嘛，仔细�?看，StringBean果然是继承自NodeVisitor方法，也就是说，可以直接使用visitAllNodesWith()方法，即使用访问者模式解析html了�?�最终从html字符串中抽取纯文本的�?完美方法为：/r/n注意上面加红色的部分，哈哈，功夫不负有心人， mParser.visitAllNodesWith (this); 这个this，可不正是StringBean本身嘛，仔细�?看，StringBean果然是继承自NodeVisitor方法，也就是说，可以直接使用visitAllNodesWith()方法，即使用访问者模式解析html了�?�最终从html字符串中抽取纯文本的�?完美方法为：/r/n/r/n                                    &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                        /r/n                                    &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                        /r/n    /r/n/r/n        /r/n                        &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}                    /r/n            /r/n            &nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);            &nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}            &nbsp;&nbsp;return str;&nbsp;}            /r/n            /r/n&nbsp;/**&nbsp; * 获取纯文本信�?&nbsp; *&nbsp;&nbsp; * @param str&nbsp; * @return&nbsp; */&nbsp;public static String getPlainText(String str) {&nbsp;&nbsp;try {&nbsp;&nbsp;&nbsp;Parser parser = new Parser();&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);/r/n&nbsp;/**/r/n/r/n&nbsp; * 获取纯文本信�?/r/n/r/n&nbsp; */r/n&nbsp;/r/n&nbsp;/r/n/r/n/r/n&nbsp; * @param str/r/n/r/n&nbsp; * @return/r/n/r/n&nbsp; *//r/n/r/n&nbsp;public static String getPlainText(String str) {/r/n/r/n&nbsp;&nbsp;try {/r/n/r/n&nbsp;&nbsp;&nbsp;Parser parser = new Parser();/r/n/r/n&nbsp;&nbsp;&nbsp;parser.setInputHTML(str);/r/n/r/n            /r/n&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?&nbsp;&nbsp;&nbsp;sb.setLinks(false);&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替&nbsp;&nbsp;&nbsp;sb.setCollapse(true);&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);&nbsp;&nbsp;&nbsp;str = sb.getStrings();&nbsp;&nbsp;} catch (ParserException e) {&nbsp;&nbsp;&nbsp;log.error(e);&nbsp;&nbsp;}/r/n&nbsp;&nbsp;&nbsp;StringBean sb = new StringBean();/r/n/r/n&nbsp;&nbsp;&nbsp;// 设置不需要得到页面所包含的链接信�?/r/n/r/n&nbsp;&nbsp;&nbsp;sb.setLinks(false);/r/n/r/n&nbsp;&nbsp;&nbsp;// 设置将不间断空格由正规空格所替代/r/n/r/n&nbsp;&nbsp;&nbsp;sb.setReplaceNonBreakingSpaces(true);/r/n/r/n&nbsp;&nbsp;&nbsp;// 设置将一序列空格由一个单�?空格�?代替/r/n/r/n&nbsp;&nbsp;&nbsp;sb.setCollapse(true);/r/n/r/n&nbsp;&nbsp;&nbsp;parser.visitAllNodesWith(sb);/r/n/r/n&nbsp;&nbsp;&nbsp;str = sb.getStrings();/r/n/r/n&nbsp;&nbsp;} catch (ParserException e) {/r/n/r/n&nbsp;&nbsp;&nbsp;log.error(e);/r/n/r/n&nbsp;&nbsp;}/r/n/r/n            /r/n&nbsp;&nbsp;return str;&nbsp;}/r/n&nbsp;&nbsp;return str;/r/n/r/n&nbsp;}/r/n/r/n            /r/n/r/n        /r/n/r/n    /r/n/r/n/r/n/r/n&nbsp;查看�?终输出结果：/r/n&nbsp;查看�?终输出结果：/r/n/r/n                        每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图            /r/n                        每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图            /r/n    /r/n/r/n        /r/n            每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图        /r/n            /r/n每日导读纯情足球宝贝冷艳写真干净清爽的少女美腿写�?完美胸器，极品女人流口水再发几张给各位狼友养养眼联想大力支持《古剑奇谭�?�游戏测�?《古剑奇谭�?�V1.0.3版补�? 多项优化宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿索尼�?3D让核心玩家更容易建立优势抱抱女漫展漂亮组�?索尼克高清壁纸美�?意念控制游戏装置上市 售价�?677�?(�?)原型体高清壁�?索尼克高清壁纸美�?《紫外线 击杀》未完全上市 续作已在�?�?性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图/r/n每日导读/r/n/r/n纯情足球宝贝冷艳写真/r/n/r/n干净清爽的少女美腿写�?/r/n/r/n完美胸器，极品女人流口水/r/n/r/n再发几张给各位狼友养养眼/r/n/r/n联想大力支持《古剑奇谭�?�游戏测�?/r/n/r/n《古剑奇谭�?�V1.0.3版补�? 多项优化/r/n/r/n宝石迷阵�?4.3秒售�?1�? 消除数量�?3万亿/r/n/r/n索尼�?3D让核心玩家更容易建立优势/r/n/r/n抱抱女漫展漂亮组�?/r/n/r/n索尼克高清壁纸美�?/r/n/r/n意念控制游戏装置上市 售价�?677�?(�?)/r/n/r/n原型体高清壁�?/r/n/r/n索尼克高清壁纸美�?/r/n/r/n《紫外线 击杀》未完全上市 续作已在�?�?/r/n/r/n性感女王真实再现《�?�女幽魂Online》聂小�?? | 青春俏皮的可爱小美女自拍套图/r/n/r/n        /r/n/r/n    /r/n/r/n/r/n/r/n怎么样，效果是不是很好？对于�?要使用lecene进行全文�?索的部分，使用以上方法将html抽取成纯文本，然后压缩存储，不仅可以极大减少索引尺寸，�?�且搜索结果必然也更精准�?阔玩游戏的全文检索功能，文章抽取的部分，就是如此实现的�??&nbsp;/r/n怎么样，效果是不是很好？对于�?要使用lecene进行全文�?索的部分，使用以上方法将html抽取成纯文本，然后压缩存储，不仅可以极大减少索引尺寸，�?�且搜索结果必然也更精准�?/r/n阔玩游戏/r/n阔玩游戏/r/n/r/n的全文检索功能，文章抽取的部分，就是如此实现的�??&nbsp;/r/n/r/n/r/n/r/n                                                                                        /r/n/r/n                                                                                    /r/n/r/n                                                                                /r/n/r/n                                                                            /r/n/r/n                                                                            /r/n                                                                            /r/n                                                                            /r/n/r/n                                                                        /r/n/r/n                                                                        /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    /r/n                                                                            /r/n/r/n                                                                                /r/n                                                                                                                                                                    /r/n                                                                                    /r/n/r/n/r/n                                                                                /r/n/r/n                                                                            /r/n/r/n                                                                        /r/n/r/n                                                                    /r/n/r/n                                                                /r/n/r/n                                                                /r/n                                                                                                                                                                                                                                                                                                                                                                                来自�?旭龙&nbsp;>&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                        isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        /r/n                                                                    /r/n                                                                                                                                                                                                                                                                                                            来自�?旭龙&nbsp;>&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                        isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        /r/n                                                                        /r/n/r/n/r/n                                                                        /r/n                                                                                                                                                            来自�?旭龙&nbsp;>&nbsp;                                                                                                                                                                                                                                                                                                                                                                                                        isfollow(1947337);                                                                                                                                                                                                                                                                                                                                                                                            /r/n                                                                            /r/n                                                                                来自�?旭龙&nbsp;>&nbsp;                                                                            /r/n                                                                                来自�?/r/n旭龙/r/n旭龙/r/n旭龙/r/n/r/n/r/n&nbsp;>&nbsp;/r/n/r/n/r/n                                                                            /r/n/r/n                                                                            /r/n                                                                                                                                                                                                                                                isfollow(1947337);                                                                            /r/n                                                                                /r/n                                                                                /r/n                                                                                /r/n/r/n                                                                                /r/nisfollow(1947337);/r/nisfollow(1947337);/r/n/r/n                                                                            /r/n/r/n                                                                            /r/n                                                                                                                                                            /r/n                                                                                /r/n/r/n/r/n/r/n/r/n                                                                            /r/n/r/n                                                                        /r/n/r/n                                                                        /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                /r/n                                                                            /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            /r/n                                                                                /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                /r/n                                                                                    /r/n                                                                                    /r/n                                                                                    /r/n/r/n                                                                                    /r/n                                                                                    /r/n                                                                                    /r/n/r/n                                                                                /r/n/r/n                                                                            /r/n/r/n                                                                        /r/n/r/n                                                                    /r/n/r/n                                                                /r/n/r/n                                                                /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                /r/n                                                                    /r/n                                                                                                                                                                                                                                                                                                                                                                            /r/n                                                                        /r/n                                                                                                                                                                                                                                /r/n                                                                            /r/n                                                                            /r/n                                                                            /r/n/r/n                                                                        /r/n/r/n                                                                    /r/n/r/n                                                                /r/n/r/n                                                                /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        转藏到我的图书馆                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        献花(0)                                                                                                        +1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    分享到微�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            以文找文                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    /r/n                                                                    /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    转藏到我的图书馆                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        献花(0)                                                                                                        +1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    分享到微�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            以文找文                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    /r/n                                                                        /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            转藏到我的图书馆                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        献花(0)                                                                                                        +1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    分享到微�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            以文找文                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                /r/n                                                                            /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                转藏到我的图书馆                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        献花(0)                                                                                                        +1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    分享到微�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            以文找文                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        /r/n                                                                                /r/n/r/n                                                                                    /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            转藏到我的图书馆                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        献花(0)                                                                                                        +1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    分享到微�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            以文找文                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            /r/n                                                                                        /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    转藏到我的图书馆                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        献花(0)                                                                                                        +1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    分享到微�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            以文找文                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                /r/n                                                                                            /r/n                                                                                                                                                                                                                                                                                                                                                                                                                        转藏到我的图书馆                                                                                                                                                                                                                                                                                                                                                                                                        /r/n                                                                                                /r/n                                                                                                                                                                                                                                                                                                                        转藏到我的图书馆                                                                                                                                                                                                                                                                                                            /r/n                                                                                                    /r/n                                                                                                        /r/n                                                                                                        /r/n/r/n                                                                                                            转藏到我的图书馆                                                                                                        /r/n                                                                                                            转藏到我的图书馆                                                                                                        /r/n/r/n                                                                                                    /r/n/r/n                                                                                                /r/n/r/n                                                                                            /r/n/r/n                                                                                            /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    献花(0)                                                                                                        +1                                                                                                                                                                                                                                                                                                /r/n                                                                                                /r/n                                                                                                                                                                                                                                                                                                                                                                                                                /r/n                                                                                                    /r/n                                                                                                                                                                                                            /r/n                                                                                                        /r/n/r/n                                                                                                    /r/n/r/n                                                                                                /r/n/r/n                                                                                                /r/n                                                                                                    献花(0)                                                                                                        +1                                                                                                                                                                                                    /r/n                                                                                                    献花(/r/n0/r/n0/r/n/r/n)/r/n                                                                                                        +1                                                                                                    /r/n                                                                                                        +1                                                                                                    /r/n/r/n                                                                                                /r/n/r/n                                                                                            /r/n/r/n                                                                                            /r/n                                                                                                                                                                                                                                                                                                                                                                                                                        分享到微�?                                                                                                                                                                                                                                                                                                                                                                                                        /r/n                                                                                                /r/n                                                                                                                                                                                                                                                                                                                        分享到微�?                                                                                                                                                                                                                                                                                                            /r/n                                                                                                    /r/n                                                                                                        /r/n                                                                                                        /r/n/r/n                                                                                                            分享到微�?                                                                                                        /r/n                                                                                                            分享到微�?                                                                                                        /r/n/r/n                                                                                                    /r/n/r/n                                                                                                /r/n/r/n                                                                                            /r/n/r/n                                                                                            /r/n                                                                                                                                                                                                                                                                                                                                                                                                                        以文找文                                                                                                                                                                                                                                                                                                                                                                                                        /r/n                                                                                                /r/n                                                                                                                                                                                                                                                                                                                        以文找文                                                                                                                                                                                                                                                                                                            /r/n                                                                                                    /r/n                                                                                                        /r/n                                                                                                        /r/n/r/n                                                                                                            以文找文                                                                                                        /r/n                                                                                                            以文找文                                                                                                        /r/n/r/n                                                                                                    /r/n/r/n                                                                                                /r/n/r/n                                                                                            /r/n/r/n                                                                                        /r/n/r/n                                                                                        /r/n                                                                                                                                                                                                                                                                                /r/n                                                                                            /r/n                                                                                            /r/n                                                                                            /r/n/r/n                                                                                        /r/n/r/n                                                                                    /r/n/r/n                                                                                /r/n/r/n                                                                            /r/n/r/n                                                                        /r/n/r/n                                                                    /r/n/r/n                                                                /r/n/r/n                                                                /r/n                                                                                                                                    /r/n                                                                    /r/n/r/n/r/n                                                                /r/n/r/n                                                            /r/n/r/n                                                        /r/n/r/n                                                    /r/n/r/n                                                /r/n/r/n                                            /r/n/r/n                                        /r/n/r/n                                    /r/n/r/n                                /r/n/r/n                            /r/n/r/n                        /r/n/r/n                        /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                类似文章                                                                                                                                                                                                                                                        更多                                                                                                                                                                                                                                                                                                                                                                                                                                                            用HtmlParser 写个�?单的 news爬虫AA                                                                                                                                                                                                                        HTMLParser使用详解�?1�?- 初始化Parser...                                                                                                                                                                                                                        利用HtmlParser进行网页信息提取                                                                                                                                                                                                                        Java资源�? 用HTMLParser从HTML中攫取你...                                                                                                                                                                                                                        HtmlParser初步研究(�?)--约翰克里斯朵�?....                                                                                                                                                                                                                        Java发�?�Http请求，解析html返回                                                                                                                                                                                                                        Google Groups: javakb�?个解析HTML的咚...                                                                                                                                                                                                                        java怎样读取html文件                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                热搜文章                                                                                                                                                                                                                                                                                                                                                                                                                                 半身不遂喝下�?,高度致残也能�?,穷人不用... 华尔街�?�大白鲨”浮出水�?  卷入史上�?�?... 穷二代的真实自白：我奋斗�?18年还是不�?... �?张图看一看华西村之A面B�? 古代人教你如何赴饭局 好书推荐：处世大智慧—�?�受用一生的22�?... 致敬20世纪10位大师：他们是文学书画的�?... 成长之路—�?�历任团中央第一书记卸任后的...                                                                                                                                                                                                                                                                                                                                                                                         猜你喜欢生活励志名言你将踏上�?段伟大的旅程怎么修改路由器密�?�?些日常用品的妙用在岁月长河中,我们�?路走�?,告别�?�?...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            发表评论�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            /r/n                            /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    类似文章                                                                                                                                                                                                                                                        更多                                                                                                                                                                                                                                                                                                                                                                                                                                                            用HtmlParser 写个�?单的 news爬虫AA                                                                                                                                                                                                                        HTMLParser使用详解�?1�?- 初始化Parser...                                                                                                                                                                                                                        利用HtmlParser进行网页信息提取                                                                                                                                                                                                                        Java资源�? 用HTMLParser从HTML中攫取你...                                                                                                                                                                                                                        HtmlParser初步研究(�?)--约翰克里斯朵�?....                                                                                                                                                                                                                        Java发�?�Http请求，解析html返回                                                                                                                                                                                                                        Google Groups: javakb�?个解析HTML的咚...                                                                                                                                                                                                                        java怎样读取html文件                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                热搜文章                                                                                                                                                                                                                                                                                                                                                                                                                                 半身不遂喝下�?,高度致残也能�?,穷人不用... 华尔街�?�大白鲨”浮出水�?  卷入史上�?�?... 穷二代的真实自白：我奋斗�?18年还是不�?... �?张图看一看华西村之A面B�? 古代人教你如何赴饭局 好书推荐：处世大智慧—�?�受用一生的22�?... 致敬20世纪10位大师：他们是文学书画的�?... 成长之路—�?�历任团中央第一书记卸任后的...                                                                                                                                                                                                                                                                                                                                                                                         猜你喜欢生活励志名言你将踏上�?段伟大的旅程怎么修改路由器密�?�?些日常用品的妙用在岁月长河中,我们�?路走�?,告别�?�?...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            发表评论�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    /r/n                                /r/n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    类似文章                                                                                                                                                                                                                                                        更多                                                                                                                                                                                                                                                                                                                                                                                                                                                            用HtmlParser 写个�?单的 news爬虫AA                                                                                                                                                                                                                        HTMLParser使用详解�?1�?- 初始化Parser...                                                                                                                                                                                                                        利用HtmlParser进行网页信息提取                                                                                                                                                                                                                        Java资源�? 用HTMLParser从HTML中攫取你...                                                                                                                                                                                                                        HtmlParser初步研究(�?)--约翰克里斯朵�?....                                                                                                                                                                                                                        Java发�?�Http请求，解析html返回                                                                                                                                                                                                                        Google Groups: javakb�?个解析HTML的咚...                                                                                                                                                                                                                        java怎样读取html文件                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                热搜文章                                                                                                                                                                                                                                                                                                                                                                                                                                 半身不遂喝下�?,高度致残也能�?,穷人不用... 华尔街�?�大白鲨”浮出水�?  卷入史上�?�?... 穷二代的真实自白：我奋斗�?18年还是不�?... �?张图看一看华西村之A面B�? 古代人教你如何赴饭局 好书推荐：处世大智慧—�?�受用一生的22�?... 致敬20世纪10位大师：他们是文学书画的�?... 成长之路—�?�历任团中央第一书记卸任后的...                                                                                                                                                                                                                                                                                                                    /r/n                                    /r/n/r/n                                        /r/n                                                                                                                                                                                                                                                                                                                                                                                                        类似文章                                                                                                                                                                                                                                                        更多                                                                                                                                                                                                                                                                                                                                                                                                                                                            用HtmlParser 写个�?单的 news爬虫AA                                                                                                                                                                                                                        HTMLParser使用详解�?1�?- 初始化Parser...                                                                                                                                                                                                                        利用HtmlParser进行网页信息提取                                                                                                                                                                                                                        Java资源�? 用HTMLParser从HTML中攫取你...                                                                                                                                                                                                                        HtmlParser初步研究(�?)--约翰克里斯朵�?....                                                                                                                                                                                                                        Java发�?�Http请求，解析html返回                                                                                                                                                                                                                        Google Groups: javakb�?个解析HTML的咚...                                                                                                                                                                                                                        java怎样读取html文件                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                热搜文章                                                                                                                                                                                                                                                                                                                                                                                                                                 半身不遂喝下�?,高度致残也能�?,穷人不用... 华尔街�?�大白鲨”浮出水�?  卷入史上�?�?... 穷二代的真实自白：我奋斗�?18年还是不�?... �?张图看一看华西村之A面B�? 古代人教你如何赴饭局 好书推荐：处世大智慧—�?�受用一生的22�?... 致敬20世纪10位大师：他们是文学书画的�?... 成长之路—�?�历任团中央第一书记卸任后的...                                                                                                                                                                                                                                                /r/n                                            /r/n                                                                                                                                                                                                                                                                                                                                                            类似文章                                                                                                                                                                                                                                                        更多                                                                                                                                                                                                                                                                                                                                                                                                                                                            用HtmlParser 写个�?单的 news爬虫AA                                                                                                                                                                                                                        HTMLParser使用详解�?1�?- 初始化Parser...                                                                                                                                                                                                                        利用HtmlParser进行网页信息提取                                                                                                                                                                                                                        Java资源�? 用HTMLParser从HTML中攫取你...                                                                                                                                                                                                                        HtmlParser初步研究(�?)--约翰克里斯朵�?....                                                                                                                                                                                                                        Java发�?�Http请求，解析html返回                                                                                                                                                                                                                        Google Groups: javakb�?个解析HTML的咚...                                                                                                                                                                                                                        java怎样读取html文件                                                                                                                                                                                                                                                                                                                                        /r/n                                                /r/n                                                                                                                                                                                                                                                                                                            类似文章                                                                                                                                                                                                                                                        更多                                                                                                                                                                                                                                                                                                                                                                                                                                                            用HtmlParser 写个�?单的 news爬虫AA                                                                                                                                                                                                                        HTMLParser使用详解�?1�?- 初始化Parser...                                                                                                                                                                                                                        利用HtmlParser进行网页信息提取                                                                                                                                                                                                                        Java资源�? 用HTMLParser从HTML中攫取你...                                                                                                                                                                                                                        HtmlParser初步研究(�?)--约翰克里斯朵�?....                                                                                                                                                                                                                        Java发�?�Http请求，解析html返回                                                                                                                                                                                                                        Google Groups: javakb�?个解析HTML的咚...                                                                                                                                                                                                                        java怎样读取html文件                                                                                                                                                                                                                                                                                            /r/n                                                    /r/n                                                                                                                                                                                                                                                        类似文章                                                                                                                                                                                                                                                        更多                                                                                                                                                                                                                                                                                                                                                                                                                                                            用HtmlParser 写个�?单的 news爬虫AA                                                                                                                                                                                                                        HTMLParser使用详解�?1�?- 初始化Parser...                                                                                                                                                                                                                        利用HtmlParser进行网页信息提取                                                                                                                                                                                                                        Java资源�? 用HTMLParser从HTML中攫取你...                                                                                                                                                                                                                        HtmlParser初步研究(�?)--约翰克里斯朵�?....                                                                                                                                                                                                                        Java发�?�Http请求，解析html返回                                                                                                                                                                                                                        Google Groups: javakb�?个解析HTML的咚...                                                                                                                                                                                                                        java怎样读取html文件                                                                                                                                                                                                                                            /r/n                                                        /r/n                                                                                                                                                                                                类似文章                                                                                                                                                                                                                                                        更多                                                                                                                    /r/n                                                            /r/n                                                                                                                                    类似文章                                                                                                                            /r/n                                                                /r/n                                                                    类似文章                                                                /r/n                                                                    类似文章                                                                /r/n/r/n                                                            /r/n/r/n                                                            /r/n                                                                更多                                                            /r/n                                                                /r/n更多/r/n更多/r/n/r/n                                                            /r/n/r/n                                                        /r/n/r/n                                                        /r/n                                                                                                                                                                                                                                                                                用HtmlParser 写个�?单的 news爬虫AA                                                                                                                                                                                                                        HTMLParser使用详解�?1�?- 初始化Parser...                                                                                                                                                                                                                        利用HtmlParser进行网页信息提取                                                                                                                                                                                                                        Java资源�? 用HTMLParser从HTML中攫取你...                                                                                                                                                                                                                        HtmlParser初步研究(�?)--约翰克里斯朵�?....                                                                                                                                                                                                                        Java发�?�Http请求，解析html返回                                                                                                                                                                                                                        Google Groups: javakb�?个解析HTML的咚...                                                                                                                                                                                                                        java怎样读取html文件                                                                                                                                                                                        /r/n                                                            /r/n                                                                                                                                                                                                                    用HtmlParser 写个�?单的 news爬虫AA                                                                                                                                                                                                                        HTMLParser使用详解�?1�?- 初始化Parser...                                                                                                                                                                                                                        利用HtmlParser进行网页信息提取                                                                                                                                                                                                                        Java资源�? 用HTMLParser从HTML中攫取你...                                                                                                                                                                                                                        HtmlParser初步研究(�?)--约翰克里斯朵�?....                                                                                                                                                                                                                        Java发�?�Http请求，解析html返回                                                                                                                                                                                                                        Google Groups: javakb�?个解析HTML的咚...                                                                                                                                                                                                                        java怎样读取html文件                                                                                                                                /r/n                                                                                                                                        /r/n                                                                            用HtmlParser 写个�?单的 news爬虫AA/r/n                                                                            用HtmlParser 写个�?单的 news爬虫AA/r/n                                                                            /r/n用HtmlParser 写个�?单的 news爬虫AA/r/n用HtmlParser 写个�?单的 news爬虫AA/r/n/r/n/r/n/r/n                                                                                                                                            /r/n                                                                            HTMLParser使用详解�?1�?- 初始化Parser.../r/n                                                                            HTMLParser使用详解�?1�?- 初始化Parser.../r/n                                                                            /r/nHTMLParser使用详解�?1�?- 初始化Parser.../r/nHTMLParser使用详解�?1�?- 初始化Parser.../r/n/r/n/r/n/r/n                                                                                                                                            /r/n                                                                            利用HtmlParser进行网页信息提取/r/n                                                                            利用HtmlParser进行网页信息提取/r/n                                                                            /r/n利用HtmlParser进行网页信息提取/r/n利用HtmlParser进行网页信息提取/r/n/r/n/r/n/r/n                                                                                                                                            /r/n                                                                            Java资源�? 用HTMLParser从HTML中攫取你.../r/n                                                                            Java资源�? 用HTMLParser从HTML中攫取你.../r/n                                                                            /r/nJava资源�? 用HTMLParser从HTML中攫取你.../r/nJava资源�? 用HTMLParser从HTML中攫取你.../r/n/r/n/r/n/r/n                                                                                                                                            /r/n                                                                            HtmlParser初步研究(�?)--约翰克里斯朵�?..../r/n                                                                            HtmlParser初步研究(�?)--约翰克里斯朵�?..../r/n                                                                            /r/nHtmlParser初步研究(�?)--约翰克里斯朵�?..../r/nHtmlParser初步研究(�?)--约翰克里斯朵�?..../r/n/r/n/r/n/r/n                                                                                                                                            /r/n                                                                            Java发�?�Http请求，解析html返回/r/n                                                                            Java发�?�Http请求，解析html返回/r/n                                                                            /r/nJava发�?�Http请求，解析html返回/r/nJava发�?�Http请求，解析html返回/r/n/r/n/r/n/r/n                                                                                                                                            /r/n                                                                            Google Groups: javakb�?个解析HTML的咚.../r/n                                                                            Google Groups: javakb�?个解析HTML的咚.../r/n                                                                            /r/nGoogle Groups: javakb�?个解析HTML的咚.../r/nGoogle Groups: javakb�?个解析HTML的咚.../r/n/r/n/r/n/r/n                                                                                                                                            /r/n                                                                            java怎样读取html文件/r/n                                                                            java怎样读取html文件/r/n                                                                            /r/njava怎样读取html文件/r/njava怎样读取html文件/r/n/r/n/r/n/r/n                                                                                                                                /r/n/r/n                                                        /r/n/r/n                                                    /r/n/r/n                                                /r/n/r/n                                            /r/n/r/n                                            /r/n                                                                                                                                                                                                                                                                                                                                                            热搜文章                                                                                                                                                                                                                                                                                                                                                                                                                                 半身不遂喝下�?,高度致残也能�?,穷人不用... 华尔街�?�大白鲨”浮出水�?  卷入史上�?�?... 穷二代的真实自白：我奋斗�?18年还是不�?... �?张图看一看华西村之A面B�? 古代人教你如何赴饭局 好书推荐：处世大智慧—�?�受用一生的22�?... 致敬20世纪10位大师：他们是文学书画的�?... 成长之路—�?�历任团中央第一书记卸任后的...                                                                                                                                                                                                        /r/n                                                /r/n                                                                                                                                                                                                                                                                                                            热搜文章                                                                                                                                                                                                                                                                                                                                                                                                                                 半身不遂喝下�?,高度致残也能�?,穷人不用... 华尔街�?�大白鲨”浮出水�?  卷入史上�?�?... 穷二代的真实自白：我奋斗�?18年还是不�?... �?张图看一看华西村之A面B�? 古代人教你如何赴饭局 好书推荐：处世大智慧—�?�受用一生的22�?... 致敬20世纪10位大师：他们是文学书画的�?... 成长之路—�?�历任团中央第一书记卸任后的...                                                                                                                                                            /r/n                                                    /r/n                                                                                                                                                                                                                                                        热搜文章                                                                                                                                                                                                                                                                                                                                                                                                                                 半身不遂喝下�?,高度致残也能�?,穷人不用... 华尔街�?�大白鲨”浮出水�?  卷入史上�?�?... 穷二代的真实自白：我奋斗�?18年还是不�?... �?张图看一看华西村之A面B�? 古代人教你如何赴饭局 好书推荐：处世大智慧—�?�受用一生的22�?... 致敬20世纪10位大师：他们是文学书画的�?... 成长之路—�?�历任团中央第一书记卸任后的...                                                                                                            /r/n                                                        /r/n                                                                                                                                                                                                热搜文章                                                                                                                                                                                                                                                                                                            /r/n                                                            /r/n                                                                                                                                    热搜文章                                                                                                                            /r/n                                                                /r/n                                                                    热搜文章                                                                /r/n                                                                    热搜文章                                                                /r/n/r/n                                                            /r/n/r/n                                                            /r/n                                                            /r/n                                                            /r/n/r/n                                                        /r/n/r/n                                                        /r/n                                                             半身不遂喝下�?,高度致残也能�?,穷人不用... 华尔街�?�大白鲨”浮出水�?  卷入史上�?�?... 穷二代的真实自白：我奋斗�?18年还是不�?... �?张图看一看华西村之A面B�? 古代人教你如何赴饭局 好书推荐：处世大智慧—�?�受用一生的22�?... 致敬20世纪10位大师：他们是文学书画的�?... 成长之路—�?�历任团中央第一书记卸任后的...                                                        /r/n                                                            /r/n 半身不遂喝下�?,高度致残也能�?,穷人不用... 华尔街�?�大白鲨”浮出水�?  卷入史上�?�?... 穷二代的真实自白：我奋斗�?18年还是不�?... �?张图看一看华西村之A面B�? 古代人教你如何赴饭局 好书推荐：处世大智慧—�?�受用一生的22�?... 致敬20世纪10位大师：他们是文学书画的�?... 成长之路—�?�历任团中央第一书记卸任后的.../r/n /r/n半身不遂喝下�?,高度致残也能�?,穷人不用.../r/n半身不遂喝下�?,高度致残也能�?,穷人不用.../r/n半身不遂喝下�?,高度致残也能�?,穷人不用.../r/n半身不遂喝下�?,高度致残也能�?,穷人不用.../r/n/r/n/r/n/r/n /r/n华尔街�?�大白鲨”浮出水�?  卷入史上�?�?.../r/n华尔街�?�大白鲨”浮出水�?  卷入史上�?�?.../r/n华尔街�?�大白鲨”浮出水�?  卷入史上�?�?.../r/n华尔街�?�大白鲨”浮出水�?  卷入史上�?�?.../r/n/r/n/r/n/r/n /r/n穷二代的真实自白：我奋斗�?18年还是不�?.../r/n穷二代的真实自白：我奋斗�?18年还是不�?.../r/n穷二代的真实自白：我奋斗�?18年还是不�?.../r/n穷二代的真实自白：我奋斗�?18年还是不�?.../r/n/r/n/r/n/r/n /r/n�?张图看一看华西村之A面B�?/r/n�?张图看一看华西村之A面B�?/r/n�?张图看一看华西村之A面B�?/r/n�?张图看一看华西村之A面B�?/r/n/r/n/r/n/r/n /r/n古代人教你如何赴饭局/r/n古代人教你如何赴饭局/r/n古代人教你如何赴饭局/r/n古代人教你如何赴饭局/r/n/r/n/r/n/r/n /r/n好书推荐：处世大智慧—�?�受用一生的22�?.../r/n好书推荐：处世大智慧—�?�受用一生的22�?.../r/n好书推荐：处世大智慧—�?�受用一生的22�?.../r/n好书推荐：处世大智慧—�?�受用一生的22�?.../r/n/r/n/r/n/r/n /r/n致敬20世纪10位大师：他们是文学书画的�?.../r/n致敬20世纪10位大师：他们是文学书画的�?.../r/n致敬20世纪10位大师：他们是文学书画的�?.../r/n致敬20世纪10位大师：他们是文学书画的�?.../r/n/r/n/r/n/r/n /r/n成长之路—�?�历任团中央第一书记卸任后的.../r/n成长之路—�?�历任团中央第一书记卸任后的.../r/n成长之路—�?�历任团中央第一书记卸任后的.../r/n成长之路—�?�历任团中央第一书记卸任后的.../r/n/r/n/r/n/r/n/r/n                                                        /r/n/r/n                                                    /r/n/r/n                                                /r/n/r/n                                            /r/n/r/n                                        /r/n/r/n                                    /r/n/r/n                                /r/n/r/n                                /r/n                                     猜你喜欢生活励志名言你将踏上�?段伟大的旅程怎么修改路由器密�?�?些日常用品的妙用在岁月长河中,我们�?路走�?,告别�?�?...                                                                                                                                                                                                                        /r/n                                    /r/n 猜你喜欢生活励志名言你将踏上�?段伟大的旅程怎么修改路由器密�?�?些日常用品的妙用在岁月长河中,我们�?路走�?,告别�?�?.../r/n /r/n猜你喜欢/r/n猜你喜欢/r/n猜你喜欢/r/n/r/n/r/n/r/n/r/n/r/n生活励志名言你将踏上�?段伟大的旅程怎么修改路由器密�?�?些日常用品的妙用在岁月长河中,我们�?路走�?,告别�?�?.../r/n生活励志名言你将踏上�?段伟大的旅程怎么修改路由器密�?�?些日常用品的妙用在岁月长河中,我们�?路走�?,告别�?�?.../r/n生活励志名言/r/n/r/n/r/n/r/n/r/n/r/n生活励志名言/r/n生活励志名言/r/n生活励志名言/r/n/r/n/r/n/r/n你将踏上�?段伟大的旅程/r/n/r/n/r/n/r/n/r/n/r/n你将踏上�?段伟大的旅程/r/n你将踏上�?段伟大的旅程/r/n你将踏上�?段伟大的旅程/r/n/r/n/r/n/r/n怎么修改路由器密�?/r/n/r/n/r/n/r/n/r/n/r/n怎么修改路由器密�?/r/n怎么修改路由器密�?/r/n怎么修改路由器密�?/r/n/r/n/r/n/r/n�?些日常用品的妙用/r/n/r/n/r/n/r/n/r/n/r/n�?些日常用品的妙用/r/n�?些日常用品的妙用/r/n�?些日常用品的妙用/r/n/r/n/r/n/r/n在岁月长河中,我们�?路走�?,告别�?�?.../r/n/r/n/r/n/r/n/r/n/r/n在岁月长河中,我们�?路走�?,告别�?�?.../r/n在岁月长河中,我们�?路走�?,告别�?�?.../r/n在岁月长河中,我们�?路走�?,告别�?�?.../r/n/r/n/r/n/r/n/r/n/r/n/r/n                                    /r/n                                                                            /r/n                                        /r/n/r/n/r/n                                    /r/n/r/n                                    /r/n                                    /r/n                                    /r/n/r/n                                /r/n/r/n                                /r/n                                                                                                                                                                                                                                                        /r/n                                    /r/n                                    /r/n                                    /r/n/r/n                                    /r/n                                    /r/n                                    /r/n/r/n                                    /r/n                                    /r/n                                    /r/n/r/n                                /r/n/r/n                                /r/n/r/n/r/n                                                                /r/n                                                                                                                                                                                                                            发表评论�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        /r/n                                    /r/n                                                                                                                                                                                        发表评论�?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        /r/n                                        /r/n                                                                                                                                                发表评论�?                                                                                                                                                                                                                                                                                                                                                                                                                                                    /r/n                                            /r/n                                                                                                    发表评论�?                                                                                                                                                                                                                                                                                                                                                                                                            /r/n                                                /r/n                                                    发表评论�?                                                /r/n                                                    发表评论�?                                                /r/n/r/n                                                /r/n/r/n/r/n                                                /r/n                                                                                                                                                                                                                /r/n                                                    /r/n                                                                                                            /r/n                                                        /r/n/r/n/r/n                                                    /r/n/r/n                                                /r/n/r/n                                            /r/n/r/n                                        /r/n/r/n                                    /r/n/r/n                                /r/n/r/n                            /r/n/r/n                        /r/n/r/n                    /r/n/r/n                    /r/n/r/n/r/n                    /r/n                             �?新文�?SpringMVC关于json、xml自动转换的原...Maven�?佳实践：版本管理Apache Jakarta Commons 工具集简�?Maven pom.xml 配置详解Maven构建应用程序常用配置 | �?单之�?常用Maven插件介绍 更多                                   热门文章                                                                        中国热菜大集（上册）                                                            按照3461学习法，�?96%的机会升入重�?...                                                            菲律宾媒体：中国可以成为南海的�?�上...                                                            贵州茅台酒全�?                                                            职场上最不该说的几句�?                                                            女人决定家族的和谐，影响家人的幸�?                                                            盘点世界�?伟大的科学家犯下的错�?                                                            10道家常砂锅菜谱做法，赶紧来学学吧!                                                            为何看不见�?�看不懂、看不起�?                                                            �?大波西瓜袭来，我惊呆了！                                                            中国�?苦�?�最辛酸的几种人，存在这�?...                                                            古今十大雅事，你会几样？                                            更多>>             function change(pro_name, i) {        var pro = document.getElementById(pro_name);         var pro_arr = pro.getElementsByTagName("span");        for (var m = 0; m < pro_arr.length; m++) {            pro_arr[m].className = "unclecked link_black";        }        pro_arr[i].className = "checked link_bai";        if (i == 1) {            document.getElementById("qh_ul_1").style.display = "";            document.getElementById("qh_ul_0").style.display = "none";        }        else if (i == 0) {            document.getElementById("qh_ul_1").style.display = "none";            document.getElementById("qh_ul_0").style.display = "";        }    }                                                                                                                                                                                                                            关闭                                                                                                                                                                                                                                                                                                                                关闭                                                                                                                                                                        /r/n                        /r/n /r/n /r/n/r/n    /r/n�?新文�?SpringMVC关于json、xml自动转换的原...Maven�?佳实践：版本管理Apache Jakarta Commons 工具集简�?Maven pom.xml 配置详解Maven构建应用程序常用配置 | �?单之�?常用Maven插件介绍 更多/r/n�?新文�?/r/n�?新文�?/r/n�?新文�?/r/n/r/n/r/nSpringMVC关于json、xml自动转换的原...Maven�?佳实践：版本管理Apache Jakarta Commons 工具集简�?Maven pom.xml 配置详解Maven构建应用程序常用配置 | �?单之�?常用Maven插件介绍 更多/r/nSpringMVC关于json、xml自动转换的原...Maven�?佳实践：版本管理Apache Jakarta Commons 工具集简�?Maven pom.xml 配置详解Maven构建应用程序常用配置 | �?单之�?常用Maven插件介绍/r/nSpringMVC关于json、xml自动转换的原.../r/nSpringMVC关于json、xml自动转换的原.../r/nSpringMVC关于json、xml自动转换的原.../r/nSpringMVC关于json、xml自动转换的原.../r/n/r/n/r/n/r/nMaven�?佳实践：版本管理/r/nMaven�?佳实践：版本管理/r/nMaven�?佳实践：版本管理/r/nMaven�?佳实践：版本管理/r/n/r/n/r/n/r/nApache Jakarta Commons 工具集简�?/r/nApache Jakarta Commons 工具集简�?/r/nApache Jakarta Commons 工具集简�?/r/nApache Jakarta Commons 工具集简�?/r/n/r/n/r/n/r/nMaven pom.xml 配置详解/r/nMaven pom.xml 配置详解/r/nMaven pom.xml 配置详解/r/nMaven pom.xml 配置详解/r/n/r/n/r/n/r/nMaven构建应用程序常用配置 | �?单之�?/r/nMaven构建应用程序常用配置 | �?单之�?/r/nMaven构建应用程序常用配置 | �?单之�?/r/nMaven构建应用程序常用配置 | �?单之�?/r/n/r/n/r/n/r/n常用Maven插件介绍/r/n常用Maven插件介绍/r/n常用Maven插件介绍/r/n常用Maven插件介绍/r/n/r/n/r/n/r/n/r/n /r/n更多/r/n更多/r/n更多/r/n/r/n/r/n/r/n/r/n           /r/n   /r/n/r/n/r/n    /r/n    /r/n    /r/n/r/n/r/n                        热门文章                                                                        中国热菜大集（上册）                                                            按照3461学习法，�?96%的机会升入重�?...                                                            菲律宾媒体：中国可以成为南海的�?�上...                                                            贵州茅台酒全�?                                                            职场上最不该说的几句�?                                                            女人决定家族的和谐，影响家人的幸�?                                                            盘点世界�?伟大的科学家犯下的错�?                                                            10道家常砂锅菜谱做法，赶紧来学学吧!                                                            为何看不见�?�看不懂、看不起�?                                                            �?大波西瓜袭来，我惊呆了！                                                            中国�?苦�?�最辛酸的几种人，存在这�?...                                                            古今十大雅事，你会几样？                                            更多>>    /r/n    /r/n                    热门文章    /r/n        /r/n            热门文章/r/n            热门文章/r/n/r/n    /r/n/r/n    /r/n                                                                中国热菜大集（上册）                                                            按照3461学习法，�?96%的机会升入重�?...                                                            菲律宾媒体：中国可以成为南海的�?�上...                                                            贵州茅台酒全�?                                                            职场上最不该说的几句�?                                                            女人决定家族的和谐，影响家人的幸�?                                                            盘点世界�?伟大的科学家犯下的错�?                                                            10道家常砂锅菜谱做法，赶紧来学学吧!                                                            为何看不见�?�看不懂、看不起�?                                                            �?大波西瓜袭来，我惊呆了！                                                            中国�?苦�?�最辛酸的几种人，存在这�?...                                                            古今十大雅事，你会几样？                                            更多>>    /r/n        /r/n                                                        中国热菜大集（上册）                                                            按照3461学习法，�?96%的机会升入重�?...                                                            菲律宾媒体：中国可以成为南海的�?�上...                                                            贵州茅台酒全�?                                                            职场上最不该说的几句�?                                                            女人决定家族的和谐，影响家人的幸�?                                                            盘点世界�?伟大的科学家犯下的错�?                                                            10道家常砂锅菜谱做法，赶紧来学学吧!                                                            为何看不见�?�看不懂、看不起�?                                                            �?大波西瓜袭来，我惊呆了！                                                            中国�?苦�?�最辛酸的几种人，存在这�?...                                                            古今十大雅事，你会几样？                        /r/n                                /r/n                        中国热菜大集（上册）/r/n                        中国热菜大集（上册）/r/n                        /r/n中国热菜大集（上册）/r/n中国热菜大集（上册）/r/n/r/n/r/n/r/n                                    /r/n                        按照3461学习法，�?96%的机会升入重�?.../r/n                        按照3461学习法，�?96%的机会升入重�?.../r/n                        /r/n按照3461学习法，�?96%的机会升入重�?.../r/n按照3461学习法，�?96%的机会升入重�?.../r/n/r/n/r/n/r/n                                    /r/n                        菲律宾媒体：中国可以成为南海的�?�上.../r/n                        菲律宾媒体：中国可以成为南海的�?�上.../r/n                        /r/n菲律宾媒体：中国可以成为南海的�?�上.../r/n菲律宾媒体：中国可以成为南海的�?�上.../r/n/r/n/r/n/r/n                                    /r/n                        贵州茅台酒全�?/r/n                        贵州茅台酒全�?/r/n                        /r/n贵州茅台酒全�?/r/n贵州茅台酒全�?/r/n/r/n/r/n/r/n                                    /r/n                        职场上最不该说的几句�?/r/n                        职场上最不该说的几句�?/r/n                        /r/n职场上最不该说的几句�?/r/n职场上最不该说的几句�?/r/n/r/n/r/n/r/n                                    /r/n                        女人决定家族的和谐，影响家人的幸�?/r/n                        女人决定家族的和谐，影响家人的幸�?/r/n                        /r/n女人决定家族的和谐，影响家人的幸�?/r/n女人决定家族的和谐，影响家人的幸�?/r/n/r/n/r/n/r/n                                    /r/n                        盘点世界�?伟大的科学家犯下的错�?/r/n                        盘点世界�?伟大的科学家犯下的错�?/r/n                        /r/n盘点世界�?伟大的科学家犯下的错�?/r/n盘点世界�?伟大的科学家犯下的错�?/r/n/r/n/r/n/r/n                                    /r/n                        10道家常砂锅菜谱做法，赶紧来学学吧!/r/n                        10道家常砂锅菜谱做法，赶紧来学学吧!/r/n                        /r/n10道家常砂锅菜谱做法，赶紧来学学吧!/r/n10道家常砂锅菜谱做法，赶紧来学学吧!/r/n/r/n/r/n/r/n                                    /r/n                        为何看不见�?�看不懂、看不起�?/r/n                        为何看不见�?�看不懂、看不起�?/r/n                        /r/n为何看不见�?�看不懂、看不起�?/r/n为何看不见�?�看不懂、看不起�?/r/n/r/n/r/n/r/n                                    /r/n                        �?大波西瓜袭来，我惊呆了！/r/n                        �?大波西瓜袭来，我惊呆了！/r/n                        /r/n�?大波西瓜袭来，我惊呆了！/r/n�?大波西瓜袭来，我惊呆了！/r/n/r/n/r/n/r/n                                    /r/n                        中国�?苦�?�最辛酸的几种人，存在这�?.../r/n                        中国�?苦�?�最辛酸的几种人，存在这�?.../r/n                        /r/n中国�?苦�?�最辛酸的几种人，存在这�?.../r/n中国�?苦�?�最辛酸的几种人，存在这�?.../r/n/r/n/r/n/r/n                                    /r/n                        古今十大雅事，你会几样？/r/n                        古今十大雅事，你会几样？/r/n                        /r/n古今十大雅事，你会几样？/r/n古今十大雅事，你会几样？/r/n/r/n/r/n/r/n                        /r/n/r/n        /r/n            更多>>/r/n            /r/n更多>>/r/n更多>>/r/n/r/n/r/n    /r/n/r/n/r/n    /r/n    /r/n/r/n/r/n/r/n/r/n /r/n/r/n/r/n    function change(pro_name, i) {        var pro = document.getElementById(pro_name);         var pro_arr = pro.getElementsByTagName("span");        for (var m = 0; m < pro_arr.length; m++) {            pro_arr[m].className = "unclecked link_black";        }        pro_arr[i].className = "checked link_bai";        if (i == 1) {            document.getElementById("qh_ul_1").style.display = "";            document.getElementById("qh_ul_0").style.display = "none";        }        else if (i == 0) {            document.getElementById("qh_ul_1").style.display = "none";            document.getElementById("qh_ul_0").style.display = "";        }    }/r/n    function change(pro_name, i) {        var pro = document.getElementById(pro_name);         var pro_arr = pro.getElementsByTagName("span");        for (var m = 0; m < pro_arr.length; m++) {            pro_arr[m].className = "unclecked link_black";        }        pro_arr[i].className = "checked link_bai";        if (i == 1) {            document.getElementById("qh_ul_1").style.display = "";            document.getElementById("qh_ul_0").style.display = "none";        }        else if (i == 0) {            document.getElementById("qh_ul_1").style.display = "none";            document.getElementById("qh_ul_0").style.display = "";        }    }/r/n/r/n                        /r/n                                                                                                                                                                                                    关闭                                                                                                                                                                                                                                                                                                                                关闭                                                                                                                                                    /r/n                            /r/n                                                                                                                                                                        关闭                                                                                                                            /r/n                                /r/n                                                                    /r/n                                    /r/n/r/n/r/n                                /r/n/r/n                                /r/n                                    关闭                                /r/n                                    /r/n关闭/r/n关闭/r/n/r/n                                /r/n/r/n                                /r/n                                /r/n                                /r/n/r/n                            /r/n/r/n                            /r/n                                                                                                                                                                        关闭                                                                                                                            /r/n                                /r/n                                                                    /r/n                                    /r/n/r/n/r/n                                /r/n/r/n                                /r/n                                    关闭                                /r/n                                    /r/n关闭/r/n关闭/r/n/r/n                                /r/n/r/n                                /r/n                                /r/n                                /r/n/r/n                            /r/n/r/n                        /r/n/r/n                    /r/n/r/n                /r/n/r/n            /r/n/r/n        /r/n/r/n    /r/n/r/n    /r/n/r/n    /r/n/r/n    /r/nvar asw='stringbean+sb+parser'/r/nvar asw='stringbean+sb+parser'/r/n/r/n    /r/n/r/n/r/n    /r/n        var appName = navigator.appName.toLowerCase();        if (appName.indexOf("microsoft internet explorer") > -1) {            document.write("<scr" + "ipt type='text/javascript' src='http://www.360doc.com/js/StickySystemIE20130911.js?t=2015041601'>/r/n        var appName = navigator.appName.toLowerCase();        if (appName.indexOf("microsoft internet explorer") > -1) {            document.write("<scr" + "ipt type='text/javascript' src='http://www.360doc.com/js/StickySystemIE20130911.js?t=2015041601'>/r/n/r/n/r/n");        }        else {            document.write("/r/n/r/n/r/n");        }    /r/n/r/n    /r/nGerLookingUserInfo(1,1947337,1,0,'-1',-1,10,0);OutputSource('http%3a%2f%2fwww.360doc.com%2fuserhome%2f1947337');OutputCategory(1947337,20,'%e3%80%8a%e6%90%9c%e7%b4%a2%e5%bc%95%e6%93%8e%e3%80%8b');OutputLastNextArt('%e8%af%a6%e8%bf%b0SEO%e7%9a%84%e6%9c%ac%e8%b4%a8%e4%b8%8e%e5%90%91%e9%87%8f%e7%a9%ba%e9%97%b4%e6%a8%a1%e5%9e%8b','http://www.360doc.com/content/10/1227/19/1947337_81810456.shtml',0);/r/nGerLookingUserInfo(1,1947337,1,0,'-1',-1,10,0);OutputSource('http%3a%2f%2fwww.360doc.com%2fuserhome%2f1947337');OutputCategory(1947337,20,'%e3%80%8a%e6%90%9c%e7%b4%a2%e5%bc%95%e6%93%8e%e3%80%8b');OutputLastNextArt('%e8%af%a6%e8%bf%b0SEO%e7%9a%84%e6%9c%ac%e8%b4%a8%e4%b8%8e%e5%90%91%e9%87%8f%e7%a9%ba%e9%97%b4%e6%a8%a1%e5%9e%8b','http://www.360doc.com/content/10/1227/19/1947337_81810456.shtml',0);/r/n/r/n    /r/n        var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");        document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fd86954201130d615136257dde062a503' type='text/javascript'%3E%3C/script%3E"));    /r/n        var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");        document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fd86954201130d615136257dde062a503' type='text/javascript'%3E%3C/script%3E"));    /r/n/r/n    /r/n/r/n/r/n    /r/n        document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date() / 3600000);    /r/n        document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date() / 3600000);    /r/n/r/n    /r/n/r/n    /r/n/r/n/r/n/r/n/r/n